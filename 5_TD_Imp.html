<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5 TD Imp – Regen 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">



<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Regen 2</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./1.0_Import_Clean.html"> 
<span class="menu-text">Data Prep</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./9_RF_Regression.html" aria-current="page"> 
<span class="menu-text">Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./6_distributions.html"> 
<span class="menu-text">Plots</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./10_Hyperparameters.html"> 
<span class="menu-text">Parameters</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./11_Heatmap.html"> 
<span class="menu-text">Maps</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./14_Research.html"> 
<span class="menu-text">Other</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./5_TD_Imp.html">5 TD Imp</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_RF_by_Eco.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 RF Ecos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_TD_Imp.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">5 TD Imp</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_RF_GroupSpp_and_Counts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7 RF Groups &amp; Counts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_RF_Spp_Groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8 RF Spp Groups</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9_RF_Regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9 RF Reg</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#import" id="toc-import" class="nav-link active" data-scroll-target="#import">Import</a>
  <ul class="collapse">
  <li><a href="#northing-e" id="toc-northing-e" class="nav-link" data-scroll-target="#northing-e">Northing &amp; E</a></li>
  </ul></li>
  <li><a href="#data-prep" id="toc-data-prep" class="nav-link" data-scroll-target="#data-prep">Data Prep</a>
  <ul class="collapse">
  <li><a href="#max-spp-1-2" id="toc-max-spp-1-2" class="nav-link" data-scroll-target="#max-spp-1-2">Max Spp 1 &amp; 2</a></li>
  </ul></li>
  <li><a href="#plots" id="toc-plots" class="nav-link" data-scroll-target="#plots">Plots</a>
  <ul class="collapse">
  <li><a href="#largest-species" id="toc-largest-species" class="nav-link" data-scroll-target="#largest-species">Largest Species</a></li>
  <li><a href="#nd-largest-species" id="toc-nd-largest-species" class="nav-link" data-scroll-target="#nd-largest-species">2nd Largest Species</a></li>
  <li><a href="#rd-largest-species" id="toc-rd-largest-species" class="nav-link" data-scroll-target="#rd-largest-species">3rd Largest Species</a></li>
  </ul></li>
  <li><a href="#seedlings-vs-overstory" id="toc-seedlings-vs-overstory" class="nav-link" data-scroll-target="#seedlings-vs-overstory">Seedlings vs Overstory</a></li>
  <li><a href="#histos" id="toc-histos" class="nav-link" data-scroll-target="#histos">Histos</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">________________</a></li>
  <li><a href="#rf-original-y" id="toc-rf-original-y" class="nav-link" data-scroll-target="#rf-original-y">RF Original Y</a>
  <ul class="collapse">
  <li><a href="#rf" id="toc-rf" class="nav-link" data-scroll-target="#rf">RF</a></li>
  </ul></li>
  <li><a href="#eval-1" id="toc-eval-1" class="nav-link" data-scroll-target="#eval-1">Eval 1</a>
  <ul class="collapse">
  <li><a href="#imputed" id="toc-imputed" class="nav-link" data-scroll-target="#imputed"><em>Imputed</em></a></li>
  <li><a href="#oobe" id="toc-oobe" class="nav-link" data-scroll-target="#oobe"><em>OOBe</em></a></li>
  <li><a href="#importance" id="toc-importance" class="nav-link" data-scroll-target="#importance"><em>Importance</em></a></li>
  <li><a href="#rmsd" id="toc-rmsd" class="nav-link" data-scroll-target="#rmsd"><em>RMSD</em></a></li>
  <li><a href="#ancillary-data" id="toc-ancillary-data" class="nav-link" data-scroll-target="#ancillary-data">Ancillary data</a>
  <ul class="collapse">
  <li><a href="#var-importance" id="toc-var-importance" class="nav-link" data-scroll-target="#var-importance">Var importance</a></li>
  <li><a href="#terminal-buckets" id="toc-terminal-buckets" class="nav-link" data-scroll-target="#terminal-buckets">Terminal Buckets</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#factor-proportions" id="toc-factor-proportions" class="nav-link" data-scroll-target="#factor-proportions">Factor Proportions</a>
  <ul class="collapse">
  <li><a href="#heat-maps" id="toc-heat-maps" class="nav-link" data-scroll-target="#heat-maps">Heat maps</a>
  <ul class="collapse">
  <li><a href="#max-spp-1" id="toc-max-spp-1" class="nav-link" data-scroll-target="#max-spp-1">Max spp 1</a></li>
  <li><a href="#max-spp-2" id="toc-max-spp-2" class="nav-link" data-scroll-target="#max-spp-2">Max spp 2</a></li>
  <li><a href="#f" id="toc-f" class="nav-link" data-scroll-target="#f">f</a></li>
  <li><a href="#p" id="toc-p" class="nav-link" data-scroll-target="#p">p</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">________________</a></li>
  <li><a href="#rf-seedlings" id="toc-rf-seedlings" class="nav-link" data-scroll-target="#rf-seedlings">RF Seedlings</a></li>
  <li><a href="#eval-2" id="toc-eval-2" class="nav-link" data-scroll-target="#eval-2">Eval 2</a>
  <ul class="collapse">
  <li><a href="#imputed-1" id="toc-imputed-1" class="nav-link" data-scroll-target="#imputed-1"><em>Imputed</em></a></li>
  <li><a href="#oobe-1" id="toc-oobe-1" class="nav-link" data-scroll-target="#oobe-1"><em>OOBe</em></a></li>
  <li><a href="#importance-1" id="toc-importance-1" class="nav-link" data-scroll-target="#importance-1"><em>Importance</em></a></li>
  <li><a href="#rmsd-1" id="toc-rmsd-1" class="nav-link" data-scroll-target="#rmsd-1"><em>RMSD</em></a></li>
  <li><a href="#ancillary-data-1" id="toc-ancillary-data-1" class="nav-link" data-scroll-target="#ancillary-data-1">Ancillary data</a>
  <ul class="collapse">
  <li><a href="#var-importance-1" id="toc-var-importance-1" class="nav-link" data-scroll-target="#var-importance-1">Var importance</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#aug24" id="toc-aug24" class="nav-link" data-scroll-target="#aug24"><strong>27AUG24</strong></a></li>
  <li><a href="#factor-proportions-1" id="toc-factor-proportions-1" class="nav-link" data-scroll-target="#factor-proportions-1">Factor Proportions</a>
  <ul class="collapse">
  <li><a href="#heat-maps-1" id="toc-heat-maps-1" class="nav-link" data-scroll-target="#heat-maps-1">Heat maps</a>
  <ul class="collapse">
  <li><a href="#max-spp-1-1" id="toc-max-spp-1-1" class="nav-link" data-scroll-target="#max-spp-1-1">Max spp 1</a></li>
  <li><a href="#max-spp-2-1" id="toc-max-spp-2-1" class="nav-link" data-scroll-target="#max-spp-2-1">Max spp 2</a></li>
  <li><a href="#f-1" id="toc-f-1" class="nav-link" data-scroll-target="#f-1">f</a></li>
  <li><a href="#p-1" id="toc-p-1" class="nav-link" data-scroll-target="#p-1">p</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#distributions" id="toc-distributions" class="nav-link" data-scroll-target="#distributions">Distributions</a>
  <ul class="collapse">
  <li><a href="#seedling-densities" id="toc-seedling-densities" class="nav-link" data-scroll-target="#seedling-densities">Seedling Densities</a></li>
  <li><a href="#comparison" id="toc-comparison" class="nav-link" data-scroll-target="#comparison">Comparison</a></li>
  </ul></li>
  <li><a href="#end" id="toc-end" class="nav-link" data-scroll-target="#end">End</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  <li><a href="#scratch" id="toc-scratch" class="nav-link" data-scroll-target="#scratch">scratch</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">5 TD Imp</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Libraries</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())                                                      </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()                                                                                 </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Data tidying and acces</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse, <span class="at">quietly =</span> T)       <span class="co"># Easy to read syntax and data manipulation                   </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)                      <span class="co"># Access SQLite dbs   </span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)                     <span class="co"># Pipes and math functions    </span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># library(readxl)                     # Read xlsx </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># library(writexl)                    # write xlsx     </span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                                                   </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># yaImpute and related                           </span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yaImpute)                     <span class="co"># RF imputation     </span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegan)                        <span class="co"># Something to do the yaImpute </span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest)                 <span class="co"># RF package that yaImpute uses                                   </span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>                                                     </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># plots and tables                          </span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># library(esquisse)                     # Quick data visualization   </span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)                        <span class="co"># Better html tables</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># library(DT)                           # Data tables for Java script tables in HTML</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>                                                   </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)                   <span class="co"># Better html tables, change sizes</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># library(feather)                      # Faster data retrieval    </span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Geography</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># library(sf)                           # Simple Features/vector data</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co"># library(terra)                        # Raster functions</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co"># library(spatstat)                     # Spatial stats</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tcltk)                        <span class="co"># Fix file paths</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># No sci-notation. </span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">125</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Functions</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>clean_mem <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">ls</span>(<span class="at">envir =</span> .GlobalEnv)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ls()[!(ls() %in% keep)]</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> x[<span class="sc">!</span>(x <span class="sc">%in%</span> keep)], <span class="at">envir =</span> .GlobalEnv)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>clean_na_cols <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df[, <span class="fu">colSums</span>(<span class="fu">is.na</span>(df)) <span class="sc">&lt;</span> <span class="fu">nrow</span>(df)]</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># path &lt;- r"(C:\RxFire\Regen\FVS\regen_080724_1644\regen_080724_1644.db)"</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>clean_paths <span class="ot">&lt;-</span> <span class="cf">function</span>(path) {</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(path, <span class="st">"</span><span class="sc">\\\\</span><span class="st">"</span>, <span class="st">"/"</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>db_list <span class="ot">&lt;-</span> <span class="cf">function</span>(df, CN_col){</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">select</span>({{CN_col}})</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">&lt;-</span> name <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">CN_col =</span> <span class="fu">str_c</span>(<span class="st">"'"</span>, {{CN_col}}, <span class="st">"'"</span>)) </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">&lt;-</span> <span class="fu">str_flatten_comma</span>(name<span class="sc">$</span>CN_col)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># name &lt;- str_flatten_comma(name[, CN_col])</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  name</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>nas_to_zeroes <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">replace</span>(., <span class="fu">is.na</span>(.), <span class="dv">0</span>))</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  df</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>keep <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"keep"</span>, <span class="st">"clean_mem"</span>, <span class="st">"clean_na_cols"</span>, <span class="st">"clean_paths"</span>, <span class="st">"db_list"</span>, <span class="st">"nas_to_zeroes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
<p><strong>Created on</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-08-26 10:05:07 PDT"</code></pre>
</div>
</div>
<p><strong>Last updated on</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-09 14:01:10 PDT"</code></pre>
</div>
</div>
<hr>
<section id="import" class="level1">
<h1>Import</h1>
<p>“C:_2_16Sept24.Rproj.user” <em>Import imp_data, fix names</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>imp_db <span class="ot">&lt;-</span> <span class="fu">clean_paths</span>(r<span class="st">"(C:\RxFire\Regen\Regeneration_2_16Sept24\data\homemade_fvs_db2.db)"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), imp_db)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>imp_data <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con, <span class="st">"select * from imp_data"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(con)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>imp_data <span class="ot">&lt;-</span> imp_data <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">Other_BA =</span> <span class="st">'2TREE_BA'</span>, <span class="at">Other_TD =</span> <span class="st">'2TB_TD'</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>eco_names <span class="ot">&lt;-</span> <span class="fu">tribble</span>(<span class="sc">~</span>Eco3, <span class="sc">~</span>ECO_NAME, </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"242A"</span>,  <span class="st">"Puget Tr."</span>, </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"342I"</span>,  <span class="st">"Columbia B."</span>, </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"M242B"</span>, <span class="st">"W.Cascades"</span>, </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"M242C"</span>, <span class="st">"E.Cascades"</span>, </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"M242D"</span>, <span class="st">"N.Cascades"</span>, </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"M333A"</span>, <span class="st">"Ok. High"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="northing-e" class="level3">
<h3 class="anchored" data-anchor-id="northing-e">Northing &amp; E</h3>
<p><em>Testing Northing and Easting</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>degrees <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="dv">45</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>direction <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>, <span class="st">"N"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>northness <span class="ot">&lt;-</span> <span class="fu">cos</span>(degrees <span class="sc">*</span> pi<span class="sc">/</span><span class="dv">180</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>eastness <span class="ot">&lt;-</span> <span class="fu">sin</span>(degrees <span class="sc">*</span> pi<span class="sc">/</span><span class="dv">180</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">degrees =</span> degrees, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">Northing =</span> <span class="fu">round</span>(northness, <span class="dv">2</span>), </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">Easting =</span> <span class="fu">round</span>(eastness, <span class="dv">2</span>), </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">direction =</span> direction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">degrees</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: left;">direction</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="even">
<td style="text-align: right;">45</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: left;">NE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">90</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">E</td>
</tr>
<tr class="even">
<td style="text-align: right;">135</td>
<td style="text-align: right;">-0.71</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: left;">SE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">180</td>
<td style="text-align: right;">-1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">S</td>
</tr>
<tr class="even">
<td style="text-align: right;">225</td>
<td style="text-align: right;">-0.71</td>
<td style="text-align: right;">-0.71</td>
<td style="text-align: left;">SW</td>
</tr>
<tr class="odd">
<td style="text-align: right;">270</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">-1.00</td>
<td style="text-align: left;">W</td>
</tr>
<tr class="even">
<td style="text-align: right;">315</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: right;">-0.71</td>
<td style="text-align: left;">NW</td>
</tr>
<tr class="odd">
<td style="text-align: right;">360</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">N</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>Transform Aspect to Northing and Easting</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>imp_data <span class="ot">&lt;-</span> imp_data <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Northing =</span> <span class="fu">round</span>(<span class="fu">cos</span>(ASPECT <span class="sc">*</span> pi<span class="sc">/</span><span class="dv">180</span>), <span class="dv">8</span>), </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Easting =</span> <span class="fu">round</span>(<span class="fu">sin</span>(ASPECT <span class="sc">*</span> pi<span class="sc">/</span><span class="dv">180</span>), <span class="dv">8</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(Northing, Easting, <span class="at">.after =</span> ASPECT) </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>imp_data <span class="sc">|&gt;</span> <span class="fu">select</span>(ASPECT, Northing, Easting) <span class="sc">|&gt;</span> </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ASPECT) <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    ASPECT <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> ASPECT <span class="sc">==</span> <span class="dv">90</span> <span class="sc">|</span> ASPECT <span class="sc">==</span> <span class="dv">180</span> <span class="sc">|</span> ASPECT <span class="sc">==</span> <span class="dv">270</span> <span class="sc">|</span> ASPECT <span class="sc">==</span> <span class="dv">360</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ASPECT</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Easting</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">536</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">603</td>
<td style="text-align: right;">180</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">647</td>
<td style="text-align: right;">270</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">714</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>imp_data <span class="ot">&lt;-</span> imp_data <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>ASPECT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="data-prep" class="level1">
<h1>Data Prep</h1>
<section id="x-y-vars" class="level4">
<h4 class="anchored" data-anchor-id="x-y-vars">X &amp; Y vars</h4>
<p><em>Separating the predictors from the responses for N.C., print all variables</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>n_cascades <span class="ot">&lt;-</span> imp_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(EcoRegion <span class="sc">==</span> <span class="st">"M242D"</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>EcoRegion)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(n_cascades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "STANDPLOT_CN" "CC"           "SDI"          "FPAG"         "LAT"          "LON"          "ELEV"         "Northing"     "Easting"      "SLOPE"        "BAp"          "PIPO_BA"      "PSME_BA"      "ABAM_BA"      "TSME_BA"      "ABGR_BA"      "PICO_BA"      "LALY_BA"      "PIAL_BA"      "PIEN_BA"      "ABLA_BA"      "LAOC_BA"      "THPL_BA"      "ALRU2_BA"     "TSHE_BA"      "TABR2_BA"     "CHNO_BA"      "POBAT_BA"     "ABPR_BA"      "BEPA_BA"      "PREM_BA"      "CONU4_BA"     "POTR5_BA"     "PIMO3_BA"     "ACGL_BA"      "FRLA_BA"      "ACMA3_BA"     "Other_BA"     "ALRH2_BA"     "QUGA4_BA"     "PRVI_BA"      "MAFU_BA"      "PISI_BA"      "ABCO_BA"      "JUHI_BA"      "ARME_BA"      "BEOC2_BA"     "PIPO_TD"      "ABLA_TD"      "TSME_TD"      "PSME_TD"      "ABGR_TD"      "LALY_TD"      "PIEN_TD"      "PICO_TD"      "LAOC_TD"      "ACGL_TD"      "TABR2_TD"     "CHNO_TD"     
[60] "ABAM_TD"      "THPL_TD"      "TSHE_TD"      "BEPA_TD"      "PREM_TD"      "POTR5_TD"     "PIAL_TD"      "ALRU2_TD"     "ABPR_TD"      "PIMO3_TD"     "PRVI_TD"      "Other_TD"     "ACMA3_TD"     "CONU4_TD"     "QUGA4_TD"     "MAFU_TD"      "ABCO_TD"      "PSMA_TD"      "ALRH2_TD"     "POBAT_TD"     "BEOC2_TD"     "PRPE2_TD"     "CHLA_TD"      "PISI_TD"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>x_pred <span class="ot">&lt;-</span> n_cascades[,<span class="dv">1</span><span class="sc">:</span><span class="dv">47</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Y Variables</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>y_resp <span class="ot">&lt;-</span> n_cascades[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">48</span><span class="sc">:</span><span class="fu">ncol</span>(n_cascades))]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(y_resp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "STANDPLOT_CN" "PIPO_TD"      "ABLA_TD"      "TSME_TD"      "PSME_TD"      "ABGR_TD"      "LALY_TD"      "PIEN_TD"      "PICO_TD"      "LAOC_TD"      "ACGL_TD"      "TABR2_TD"     "CHNO_TD"      "ABAM_TD"      "THPL_TD"      "TSHE_TD"      "BEPA_TD"      "PREM_TD"      "POTR5_TD"     "PIAL_TD"      "ALRU2_TD"     "ABPR_TD"      "PIMO3_TD"     "PRVI_TD"      "Other_TD"     "ACMA3_TD"     "CONU4_TD"     "QUGA4_TD"     "MAFU_TD"      "ABCO_TD"      "PSMA_TD"      "ALRH2_TD"     "POBAT_TD"     "BEOC2_TD"     "PRPE2_TD"     "CHLA_TD"      "PISI_TD"     </code></pre>
</div>
</div>
</section>
<section id="f.p.a.g" class="level4">
<h4 class="anchored" data-anchor-id="f.p.a.g">F.P.A.G</h4>
<p><em>Separate FPAG</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>x_pred <span class="ot">&lt;-</span> x_pred <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">f =</span> <span class="fu">str_sub</span>(FPAG, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">p =</span> <span class="fu">str_sub</span>(FPAG, <span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">a =</span> <span class="fu">str_sub</span>(FPAG, <span class="dv">3</span>, <span class="dv">3</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">g =</span> <span class="fu">str_sub</span>(FPAG, <span class="dv">4</span>, <span class="dv">4</span>),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>FPAG) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(f, p, a, g, <span class="at">.after =</span> SLOPE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sort-by-ba" class="level4">
<h4 class="anchored" data-anchor-id="sort-by-ba">Sort by BA</h4>
<p><em>Ordering BA variables most to least prevalent</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select numeric columns</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> x_pred  <span class="sc">|&gt;</span> <span class="fu">select_if</span>(is.numeric)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove empties</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> t[, <span class="fu">colSums</span>(t) <span class="sc">!=</span> <span class="dv">0</span>]</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Get sum of BA by Species</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(t[,<span class="dv">9</span><span class="sc">:</span><span class="fu">ncol</span>(t)], sum)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort a list by most BA</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> t2 <span class="sc">|&gt;</span> <span class="fu">sort</span>(<span class="at">decreasing =</span> T)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>t2 <span class="sc">|&gt;</span> <span class="fu">names</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] BAp      PSME_BA  ABAM_BA  TSHE_BA  THPL_BA  TSME_BA  ABLA_BA  PIPO_BA  PICO_BA  PIEN_BA  ABGR_BA  CHNO_BA  ALRU2_BA PIAL_BA  LAOC_BA  ACMA3_BA LALY_BA  PIMO3_BA ABPR_BA  POBAT_BA ACGL_BA  PISI_BA  TABR2_BA POTR5_BA BEPA_BA  PREM_BA  ALRH2_BA MAFU_BA  CONU4_BA PRVI_BA  Other_BA</code></pre>
</div>
</div>
<p><em>Seedlings in decreasing order of prevalence</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> y_resp  <span class="sc">|&gt;</span> <span class="fu">select_if</span>(is.numeric)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> t[, <span class="fu">colSums</span>(t) <span class="sc">!=</span> <span class="dv">0</span>]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>ty <span class="ot">&lt;-</span> <span class="fu">sapply</span>(t[,<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(t)], sum)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>ty <span class="ot">&lt;-</span> ty <span class="sc">|&gt;</span> <span class="fu">sort</span>(<span class="at">decreasing =</span> T)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">names</span>(ty)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ABAM_TD"  "TSHE_TD"  "ABLA_TD"  "PSME_TD"  "PIEN_TD"  "ABGR_TD"  "TSME_TD"  "PICO_TD"  "THPL_TD"  "LAOC_TD"  "CHNO_TD"  "TABR2_TD" "PIPO_TD"  "PIAL_TD"  "POTR5_TD" "PIMO3_TD" "LALY_TD"  "PREM_TD"  "ACMA3_TD" "PRVI_TD"  "ACGL_TD"  "ALRU2_TD" "BEPA_TD"  "ABPR_TD"  "POBAT_TD" "Other_TD" "PSMA_TD"  "ALRH2_TD" "PISI_TD" </code></pre>
</div>
</div>
<p>N.Cascades drops from 35 to 29 columns after removing empty Seedling categories.</p>
</section>
<section id="n_largest" class="level4">
<h4 class="anchored" data-anchor-id="n_largest">n_largest</h4>
<p><em>Find most common seedling species per subplot</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for finding the nth most prevalent species by TD.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Where b is the sorted list of all species by TD. </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>n_largest <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> b, n) {</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># In descending order, prevelance</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  x1 <span class="ot">&lt;-</span> <span class="fu">sort</span>(x, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the nth most prevelant. </span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  x1[n]</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y_resp <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>STANDPLOT_CN)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">names</span>(y)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co"># For the i through nth most trees in each subplot</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the new column name to largest_n</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    c_value <span class="ot">&lt;-</span> <span class="fu">str_c</span>(<span class="st">"largest_"</span>, i)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># For each subplot the largest_n is the nth place in a descending list by TD unless all are zero. </span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> y <span class="sc">%&gt;%</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="sc">!!</span><span class="at">c_value :=</span> <span class="fu">n_largest</span>(<span class="fu">c_across</span>(<span class="fu">all_of</span>(b)), i)) <span class="sc">|&gt;</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="max-spp-1-2" class="level3">
<h3 class="anchored" data-anchor-id="max-spp-1-2">Max Spp 1 &amp; 2</h3>
<p><em>Set species names for each of the most prevelant</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The name of the species with the largest TD is the column name where the TD matches the largest_n</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>max_spp1 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(y), <span class="cf">function</span>(x) <span class="fu">colnames</span>(y)[<span class="fu">which</span>(y[x, b] <span class="sc">==</span> y<span class="sc">$</span>largest_1[x])][<span class="dv">1</span>])</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>max_spp2 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(y), <span class="cf">function</span>(x) <span class="fu">colnames</span>(y)[<span class="fu">which</span>(y[x, b] <span class="sc">==</span> y<span class="sc">$</span>largest_2[x])][<span class="dv">1</span>])</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The largest is always the largest or zero, but the second sometimes matches the first where either are zero or equal. </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The alternate second and third replace the incorrect species names with the second name in the list.</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># So, where spp1 and spp2 are both 75, spp1 is the first name in the list, and spp2 is the second name in the list. </span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>alt_spp2 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(y), <span class="cf">function</span>(x) <span class="fu">colnames</span>(y)[<span class="fu">which</span>(y[x, b] <span class="sc">==</span> y<span class="sc">$</span>largest_2[x])][<span class="dv">2</span>])</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>max_spp3 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(y), <span class="cf">function</span>(x) <span class="fu">colnames</span>(y)[<span class="fu">which</span>(y[x, b] <span class="sc">==</span> y<span class="sc">$</span>largest_3[x])][<span class="dv">1</span>])</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>alt_spp3 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(y), <span class="cf">function</span>(x) <span class="fu">colnames</span>(y)[<span class="fu">which</span>(y[x, b] <span class="sc">==</span> y<span class="sc">$</span>largest_3[x])][<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Fix the zero columns</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace the species names where they are equal with the alternates</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">if_else</span>(largest_1 <span class="sc">==</span> largest_2, alt_spp2, max_spp2),</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp3 =</span> <span class="fu">if_else</span>(largest_2 <span class="sc">==</span> largest_3, alt_spp3, max_spp3)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(alt_spp2, alt_spp3))<span class="co">#, alt_spp3</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the species names to zero if there were no trees counted for that nth largest. </span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>yfull <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp1 =</span> <span class="fu">ifelse</span>(largest_1 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"zero"</span>, max_spp1),</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">ifelse</span>(largest_2 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"zero"</span>, max_spp2),</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp3 =</span> <span class="fu">ifelse</span>(largest_3 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"zero"</span>, max_spp3)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace the CNs</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>yfull<span class="sc">$</span>STANDPLOT_CN <span class="ot">&lt;-</span> y_resp<span class="sc">$</span>STANDPLOT_CN</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Put it back in front</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>yfull <span class="ot">&lt;-</span> yfull <span class="sc">|&gt;</span> <span class="fu">relocate</span>(STANDPLOT_CN)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at one full example</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co"># yfull |&gt; filter(STANDPLOT_CN == "22954484010497_4") </span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at some examples of the results. </span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>yfull[<span class="dv">4</span><span class="sc">:</span><span class="dv">8</span>, <span class="dv">36</span><span class="sc">:</span><span class="fu">ncol</span>(yfull)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">CHLA_TD</th>
<th style="text-align: right;">PISI_TD</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">largest_3</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">zero</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">299.86113</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>Calculate the sum of all TDs per subplot</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>yfull <span class="ot">&lt;-</span> yfull <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_TD =</span> <span class="fu">rowSums</span>(yfull[<span class="fu">grep</span>(<span class="st">"_TD"</span>, <span class="fu">names</span>(yfull))])</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Interim Save point with max_spp and largest spp in y</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t &lt;- left_join(x_pred, yfull, join_by(STANDPLOT_CN))</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># con &lt;- dbConnect(RSQLite::SQLite(), "c:/RxFire/Regen/Regeneration_2_16Sept24/data/homemade_fvs_db.db")</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># dbWriteTable(con, "imp_data_2", t)</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># dbDisconnect(con)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="plots" class="level1">
<h1>Plots</h1>
<section id="largest-species" class="level3">
<h3 class="anchored" data-anchor-id="largest-species">Largest Species</h3>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>yfull  <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp1) <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_1))</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(sum_tpa)) <span class="sc">|&gt;</span> </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(max_spp1,<span class="sc">-</span>sum_tpa), <span class="at">y =</span> sum_tpa, <span class="at">fill =</span> max_spp1) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">45</span>)) <span class="sc">+</span> </span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"N trees in largest_spp in N.C. above zero"</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp1) <span class="sc">|&gt;</span> </span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_1))</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(max_spp1,<span class="sc">-</span>n), <span class="at">y =</span> n, <span class="at">fill =</span> max_spp1) <span class="sc">+</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">45</span>)) <span class="sc">+</span> </span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"N Plots in largest_spp in N.C. above zero"</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-19-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p>In N.Cascades, there ABAM and TSHE, then another between ABLA and PSME.</p>
<p>There are two ways I can think about this. One is which species has the most trees. The other is which species is most often the largest species.</p>
<p><em>Species with fewest trees</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>yfull  <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp1) <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_1))</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(sum_tpa) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">max_spp1</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">sum_tpa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ALRH2_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">POBAT_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PSMA_TD</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">150</td>
</tr>
<tr class="even">
<td style="text-align: left;">BEPA_TD</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">750</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ALRU2_TD</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">975</td>
</tr>
<tr class="even">
<td style="text-align: left;">PIMO3_TD</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">1274</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>Species with fewest plots</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>yfull  <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp1) <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_1))</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(n) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">max_spp1</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">sum_tpa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ALRH2_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">POBAT_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PSMA_TD</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">150</td>
</tr>
<tr class="even">
<td style="text-align: left;">BEPA_TD</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">750</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ALRU2_TD</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">975</td>
</tr>
<tr class="even">
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">2324</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="nd-largest-species" class="level3">
<h3 class="anchored" data-anchor-id="nd-largest-species">2nd Largest Species</h3>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp2) <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_2))</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(sum_tpa)) <span class="sc">|&gt;</span> </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(max_spp2,<span class="sc">-</span>sum_tpa), <span class="at">y =</span> sum_tpa, <span class="at">fill =</span> max_spp2) <span class="sc">+</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">45</span>)) <span class="sc">+</span> </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"N trees in largest_spp2 in N.C., Total TD above zero"</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp2) <span class="sc">|&gt;</span> </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_2))</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(max_spp2,<span class="sc">-</span>n), <span class="at">y =</span> n, <span class="at">fill =</span> max_spp2) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">45</span>)) <span class="sc">+</span> </span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"N Plots in largest_spp2 in N.C., Total TD above zero"</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-22-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p><em>Species with fewest trees</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp2) <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_2))</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(sum_tpa) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">max_spp2</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">sum_tpa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">zero</td>
<td style="text-align: right;">894</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACGL_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABPR_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">150</td>
</tr>
<tr class="even">
<td style="text-align: left;">PRVI_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">150</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ACMA3_TD</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">225</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">225</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>Species with fewest plots</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp2) <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_2))</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(n) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">max_spp2</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">sum_tpa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ABPR_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">150</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACGL_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">225</td>
</tr>
<tr class="even">
<td style="text-align: left;">PRVI_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">150</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ACMA3_TD</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">225</td>
</tr>
<tr class="even">
<td style="text-align: left;">ALRU2_TD</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">300</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="rd-largest-species" class="level3">
<h3 class="anchored" data-anchor-id="rd-largest-species">3rd Largest Species</h3>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp3) <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_3))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(sum_tpa)) <span class="sc">|&gt;</span> </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(max_spp3,<span class="sc">-</span>sum_tpa), <span class="at">y =</span> sum_tpa, <span class="at">fill =</span> max_spp3) <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">45</span>)) <span class="sc">+</span> </span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"N trees in largest_spp3 in N.C., Total TD above zero"</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp3) <span class="sc">|&gt;</span> </span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_3))</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(max_spp3,<span class="sc">-</span>n), <span class="at">y =</span> n, <span class="at">fill =</span> max_spp3) <span class="sc">+</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">45</span>)) <span class="sc">+</span> </span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"N Plots in largest_spp3 in N.C., Total TD above zero"</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-25-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p><em>Species with fewest trees</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp3) <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_3))</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(sum_tpa) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">max_spp3</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">sum_tpa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">zero</td>
<td style="text-align: right;">1336</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ACGL_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">POTR5_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">PREM_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>Species with fewest plots</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp3) <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_tpa =</span> <span class="fu">round</span>(<span class="fu">sum</span>(largest_3))</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(n) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">max_spp3</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">sum_tpa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACGL_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">225</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">POTR5_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">PREM_TD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="seedlings-vs-overstory" class="level1">
<h1>Seedlings vs Overstory</h1>
<section id="max-species-1-2" class="level4">
<h4 class="anchored" data-anchor-id="max-species-1-2">Max Species 1 &amp; 2</h4>
<p><em>Largest Species lists</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>spp1 <span class="ot">&lt;-</span> <span class="fu">unique</span>(yfull<span class="sc">$</span>max_spp1)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>spp2 <span class="ot">&lt;-</span> <span class="fu">unique</span>(yfull<span class="sc">$</span>max_spp2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Combined 1 &amp; 2, but unique</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>spp12 <span class="ot">&lt;-</span> <span class="fu">append</span>(spp1, spp2) <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>spp12 <span class="sc">|&gt;</span> <span class="fu">sort</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] ABAM_TD  ABGR_TD  ABLA_TD  ABPR_TD  ACGL_TD  ACMA3_TD ALRH2_TD ALRU2_TD BEPA_TD  CHNO_TD  LALY_TD  LAOC_TD  Other_TD PIAL_TD  PICO_TD  PIEN_TD  PIMO3_TD PIPO_TD  POBAT_TD POTR5_TD PREM_TD  PRVI_TD  PSMA_TD  PSME_TD  TABR2_TD THPL_TD  TSHE_TD  TSME_TD  zero    </code></pre>
</div>
</div>
<p>Above is all of the species that are present in either the most or second most common seedlings for each subplot in N.C.</p>
</section>
<section id="overstory-species-in-seedlings" class="level4">
<h4 class="anchored" data-anchor-id="overstory-species-in-seedlings">Overstory species in seedlings</h4>
<p><em>Names of columns where the overstory matches species in understory</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matching the seedling names to the overstory names</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>regen_species <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(spp12, <span class="st">"_TD"</span>, <span class="st">"_BA"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># length(regen_species)</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># removing 'zero'</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>regen_species <span class="ot">&lt;-</span> regen_species[<span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(regen_species)]</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>regen_species <span class="sc">|&gt;</span> <span class="fu">sort</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] ABAM_BA  ABGR_BA  ABLA_BA  ABPR_BA  ACGL_BA  ACMA3_BA ALRH2_BA ALRU2_BA BEPA_BA  CHNO_BA  LALY_BA  LAOC_BA  Other_BA PIAL_BA  PICO_BA  PIEN_BA  PIMO3_BA PIPO_BA  POBAT_BA POTR5_BA PREM_BA  PRVI_BA  PSMA_BA  PSME_BA  TABR2_BA THPL_BA  TSHE_BA  TSME_BA </code></pre>
</div>
</div>
<p><em>Get names of Overstory spp</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>overstory <span class="ot">&lt;-</span> x_pred <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"_BA"</span>)) </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>remove_1 <span class="ot">&lt;-</span> <span class="fu">names</span>(overstory)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>overstory <span class="ot">&lt;-</span> overstory[, <span class="fu">colSums</span>(overstory) <span class="sc">!=</span> <span class="dv">0</span>]</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>remove_2 <span class="ot">&lt;-</span> <span class="fu">names</span>(overstory)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>overstory <span class="ot">&lt;-</span> <span class="fu">names</span>(overstory)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>overstory <span class="sc">|&gt;</span> <span class="fu">sort</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] ABAM_BA  ABGR_BA  ABLA_BA  ABPR_BA  ACGL_BA  ACMA3_BA ALRH2_BA ALRU2_BA BEPA_BA  CHNO_BA  CONU4_BA LALY_BA  LAOC_BA  MAFU_BA  Other_BA PIAL_BA  PICO_BA  PIEN_BA  PIMO3_BA PIPO_BA  PISI_BA  POBAT_BA POTR5_BA PREM_BA  PRVI_BA  PSME_BA  TABR2_BA THPL_BA  TSHE_BA  TSME_BA </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>remove <span class="ot">&lt;-</span>  remove_1[<span class="sc">!</span>(remove_1 <span class="sc">%in%</span> remove_2)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="overstory-not-in-regen" class="level4">
<h4 class="anchored" data-anchor-id="overstory-not-in-regen">Overstory not in regen</h4>
<p><em>Find where Overstory spp &amp; regen spp do not overlap</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>remove <span class="ot">&lt;-</span> <span class="fu">append</span>(remove, </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                 overstory[<span class="sc">!</span>(overstory <span class="sc">%in%</span> regen_species)])</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>remove <span class="sc">|&gt;</span> <span class="fu">sort</span>() <span class="sc">|&gt;</span> <span class="fu">str_flatten_comma</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] ABCO_BA, ARME_BA, BEOC2_BA, CONU4_BA, FRLA_BA, JUHI_BA, MAFU_BA, PISI_BA, QUGA4_BA</code></pre>
</div>
</div>
<p>These species do not have seedlings, but do have overstory in NC.</p>
<ul>
<li>CONU4_BA, MAFU_BA, PISI_BA</li>
<li>the others are empty in N.Cascades</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> x_pred <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"_BA"</span>)) </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> t[, <span class="fu">colSums</span>(t) <span class="sc">!=</span> <span class="dv">0</span>]</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>t<span class="sc">$</span>CONU4_BA <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.210918</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>t<span class="sc">$</span>MAFU_BA <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.355037</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>t<span class="sc">$</span>PISI_BA <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 133.5669</code></pre>
</div>
</div>
<p>There are only a couple of CONU4 AND MAFU, but there are a few PISI.</p>
</section>
<section id="regen-species-not-in-overstory" class="level4">
<h4 class="anchored" data-anchor-id="regen-species-not-in-overstory">Regen species not in overstory</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>regen_species[<span class="sc">!</span>(regen_species <span class="sc">%in%</span> overstory)] <span class="sc">|&gt;</span> <span class="fu">sort</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PSMA_BA"</code></pre>
</div>
</div>
<p>PSMA has seedlings, but no overstory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>imp_data[imp_data<span class="sc">$</span>PSMA_TD <span class="sc">&gt;</span> <span class="dv">0</span>, ] <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN, PSMA_TD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">STANDPLOT_CN</th>
<th style="text-align: right;">PSMA_TD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2302</td>
<td style="text-align: left;">24126063010900_2</td>
<td style="text-align: right;">74.96528</td>
</tr>
<tr class="even">
<td style="text-align: left;">2304</td>
<td style="text-align: left;">24126063010900_4</td>
<td style="text-align: right;">74.96528</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>There are two subplots from the same stand that have PSMA.</p>
<hr>
<p>I am pretty sure that 2TB and 2 TREE are the same, but I need to go back and find out where the names were introduced. PSMA is the only species that is not present in the overstory, but is in the understory.</p>
<p>From the FIA.REF_SPECIES 2Tree is an unknown live tree, and 2TB is unknown dead tree. However, these are not always coded as dead.</p>
<p><strong>I went back up and made them the same</strong></p>
<hr>
</section>
</section>
<section id="histos" class="level1">
<h1>Histos</h1>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>yfull_above0 <span class="ot">&lt;-</span> yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">log</span>(yfull<span class="sc">$</span>total_TD <span class="sc">+</span> <span class="dv">1</span>), </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="st">"Scott"</span>)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(yfull_above0<span class="sc">$</span>total_TD, </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="st">"Scott"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-37-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p>I am not sure what I was trying to learn here.</p>
</section>
<section id="section" class="level1">
<h1>________________</h1>
</section>
<section id="rf-original-y" class="level1">
<h1>RF Original Y</h1>
<p>This test is on the North Cascades. I have removed all subplots that do not have seedlings. There were 1498 subplots available for imputation.</p>
<p>I had tried to run the model with everything that I could, but there were issues. yaImpute, flags an error if there are “empty classes”. These do not actually have to be empty. I think, it errs if the subset taken for imputation, doesn’t contain all of the classes. So, there needs to be enough factors in each class to ensure that we get at least one of each after the random sample is taken. To fix this, I grouped the least common seedling species into a group named other.</p>
<p>The y variables for this imputation were the seedlings TPAs of the largest two species, and their names, plus the total TPA for the subplot.</p>
<p>As for the X variables, most were included. The main list was CC, SDI, lat, lon, elevation, aspect, slope, FPAG, and BA of the stand. The X variables also included the species BA per acre of every species present in the Ecoregion. While troubleshooting the issue, I removed A &amp; G from FPAG in the X variables list. This may not have been necessary, but there were empty spaces in those columns as FPAGs do not need to have more than 2 letters.</p>
<p><em>Clean Memory</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>keep <span class="ot">&lt;-</span> <span class="fu">append</span>(keep, </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>               <span class="fu">c</span>(<span class="st">"yfull"</span>, <span class="st">"x_pred"</span>, <span class="st">"y_resp"</span>, <span class="st">"remove"</span>, <span class="st">"imp_data"</span>, <span class="st">"n_cascades"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="fu">clean_mem</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>          used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells 2507795 134.0    4242408 226.6  4242408 226.6
Vcells 5273426  40.3   10146329  77.5  8271335  63.2</code></pre>
</div>
</div>
<section id="rf" class="level2">
<h2 class="anchored" data-anchor-id="rf">RF</h2>
<p><strong>Adjust n1 and n2 to get RF to work.</strong></p>
<ul>
<li>n1 is the number from max_spp1 to remove</li>
<li>n2 is the number from max_spp2 to keep.</li>
<li>3 and 19 are working in N.C.</li>
</ul>
<p><em>Run RandomForest</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>n1 <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>n2 <span class="ot">&lt;-</span> <span class="dv">19</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>y_above0 <span class="ot">&lt;-</span> yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>CNs_wRegen <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co"># X Variables</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>x_above0 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(CNs_wRegen, x_pred, <span class="fu">join_by</span>(STANDPLOT_CN))</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x_above0 <span class="sc">|&gt;</span> </span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(a,g)) <span class="sc">|&gt;</span> </span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">f =</span> <span class="fu">factor</span>(f), </span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="fu">factor</span>(p)</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(f, p, <span class="at">.after =</span> BAp) <span class="sc">|&gt;</span> </span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">all_of</span>(remove))</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Y variables</span></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp1) <span class="sc">|&gt;</span> </span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">tpa =</span> <span class="fu">sum</span>(largest_1)</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(n)</span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>td_remove <span class="ot">&lt;-</span> t[<span class="dv">1</span><span class="sc">:</span>n1,]<span class="sc">$</span>max_spp1 <span class="sc">|&gt;</span> <span class="fu">as.character</span>()</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>y_rare <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">all_of</span>(td_remove))</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>y_rare <span class="ot">&lt;-</span> y_rare <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">rare_TD =</span> <span class="fu">rowSums</span>(y_rare[<span class="fu">grep</span>(<span class="st">"_TD"</span>, <span class="fu">names</span>(y_rare))])</span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>y_above0<span class="sc">$</span>rare_TD <span class="ot">&lt;-</span> y_rare<span class="sc">$</span>rare_TD</span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>y_above0 <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">all_of</span>(td_remove))</span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN, max_spp1, max_spp2, largest_1, largest_2, total_TD)</span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a>y_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(y)</span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a>spp2_list <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp2) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(</span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb55-54"><a href="#cb55-54" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb55-55"><a href="#cb55-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-56"><a href="#cb55-56" aria-hidden="true" tabindex="-1"></a>spp2_list <span class="ot">&lt;-</span> spp2_list<span class="sc">$</span>max_spp2[<span class="dv">1</span><span class="sc">:</span>n2]</span>
<span id="cb55-57"><a href="#cb55-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-58"><a href="#cb55-58" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb55-59"><a href="#cb55-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp1 =</span> <span class="fu">ifelse</span>(</span>
<span id="cb55-60"><a href="#cb55-60" aria-hidden="true" tabindex="-1"></a>    max_spp1 <span class="sc">%in%</span> td_remove, <span class="st">"rare"</span>, max_spp1</span>
<span id="cb55-61"><a href="#cb55-61" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb55-62"><a href="#cb55-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-63"><a href="#cb55-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">ifelse</span>(</span>
<span id="cb55-64"><a href="#cb55-64" aria-hidden="true" tabindex="-1"></a>    max_spp2 <span class="sc">%in%</span> spp2_list, max_spp2, <span class="st">"Other"</span></span>
<span id="cb55-65"><a href="#cb55-65" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-66"><a href="#cb55-66" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-67"><a href="#cb55-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-68"><a href="#cb55-68" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb55-69"><a href="#cb55-69" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp1 =</span> <span class="fu">factor</span>(max_spp1),</span>
<span id="cb55-70"><a href="#cb55-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">factor</span>(max_spp2)</span>
<span id="cb55-71"><a href="#cb55-71" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-72"><a href="#cb55-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-73"><a href="#cb55-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-74"><a href="#cb55-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-75"><a href="#cb55-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-76"><a href="#cb55-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-77"><a href="#cb55-77" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(x)</span>
<span id="cb55-78"><a href="#cb55-78" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(y)</span>
<span id="cb55-79"><a href="#cb55-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-80"><a href="#cb55-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-81"><a href="#cb55-81" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x <span class="sc">|&gt;</span> <span class="fu">column_to_rownames</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb55-82"><a href="#cb55-82" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">column_to_rownames</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb55-83"><a href="#cb55-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-84"><a href="#cb55-84" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(y)</span>
<span id="cb55-85"><a href="#cb55-85" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(x)</span>
<span id="cb55-86"><a href="#cb55-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-87"><a href="#cb55-87" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_yai &lt;- yai(x = x, y = y, method = "randomForest", k = 1, bootstrap = T)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_yai &lt;- yai(x = x, y = y, method = "randomForest", k = 1, bootstrap = T)</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># save(rf_yai, file = str_c("RF_26AUG24_original_Y", ".Rdata"))</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">str_c</span>(<span class="st">"data/RF_26AUG24_original_Y"</span>, <span class="st">".Rdata"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="eval-1" class="level1">
<h1>Eval 1</h1>
<p>Those columns that end in “.o” are the observed values for that CN. The others are the imputed values for that CN.</p>
<section id="imputed" class="level3">
<h3 class="anchored" data-anchor-id="imputed"><em>Imputed</em></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_dia_i &lt;- impute(rf_dia, ancillaryData = y)</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="ot">&lt;-</span> <span class="fu">impute</span>(rf_yai)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">PIPO_BA</th>
<th style="text-align: right;">PSME_BA</th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">ABGR_BA</th>
<th style="text-align: right;">PICO_BA</th>
<th style="text-align: right;">LALY_BA</th>
<th style="text-align: right;">PIAL_BA</th>
<th style="text-align: right;">PIEN_BA</th>
<th style="text-align: right;">ABLA_BA</th>
<th style="text-align: right;">LAOC_BA</th>
<th style="text-align: right;">THPL_BA</th>
<th style="text-align: right;">ALRU2_BA</th>
<th style="text-align: right;">TSHE_BA</th>
<th style="text-align: right;">TABR2_BA</th>
<th style="text-align: right;">CHNO_BA</th>
<th style="text-align: right;">POBAT_BA</th>
<th style="text-align: right;">ABPR_BA</th>
<th style="text-align: right;">BEPA_BA</th>
<th style="text-align: right;">PREM_BA</th>
<th style="text-align: right;">POTR5_BA</th>
<th style="text-align: right;">PIMO3_BA</th>
<th style="text-align: right;">ACGL_BA</th>
<th style="text-align: right;">ACMA3_BA</th>
<th style="text-align: right;">Other_BA</th>
<th style="text-align: right;">ALRH2_BA</th>
<th style="text-align: right;">PRVI_BA</th>
<th style="text-align: right;">CC.o</th>
<th style="text-align: right;">SDI.o</th>
<th style="text-align: right;">LAT.o</th>
<th style="text-align: right;">LON.o</th>
<th style="text-align: right;">ELEV.o</th>
<th style="text-align: right;">Northing.o</th>
<th style="text-align: right;">Easting.o</th>
<th style="text-align: right;">SLOPE.o</th>
<th style="text-align: right;">BAp.o</th>
<th style="text-align: right;">PIPO_BA.o</th>
<th style="text-align: right;">PSME_BA.o</th>
<th style="text-align: right;">ABAM_BA.o</th>
<th style="text-align: right;">TSME_BA.o</th>
<th style="text-align: right;">ABGR_BA.o</th>
<th style="text-align: right;">PICO_BA.o</th>
<th style="text-align: right;">LALY_BA.o</th>
<th style="text-align: right;">PIAL_BA.o</th>
<th style="text-align: right;">PIEN_BA.o</th>
<th style="text-align: right;">ABLA_BA.o</th>
<th style="text-align: right;">LAOC_BA.o</th>
<th style="text-align: right;">THPL_BA.o</th>
<th style="text-align: right;">ALRU2_BA.o</th>
<th style="text-align: right;">TSHE_BA.o</th>
<th style="text-align: right;">TABR2_BA.o</th>
<th style="text-align: right;">CHNO_BA.o</th>
<th style="text-align: right;">POBAT_BA.o</th>
<th style="text-align: right;">ABPR_BA.o</th>
<th style="text-align: right;">BEPA_BA.o</th>
<th style="text-align: right;">PREM_BA.o</th>
<th style="text-align: right;">POTR5_BA.o</th>
<th style="text-align: right;">PIMO3_BA.o</th>
<th style="text-align: right;">ACGL_BA.o</th>
<th style="text-align: right;">ACMA3_BA.o</th>
<th style="text-align: right;">Other_BA.o</th>
<th style="text-align: right;">ALRH2_BA.o</th>
<th style="text-align: right;">PRVI_BA.o</th>
<th style="text-align: left;">f</th>
<th style="text-align: left;">p</th>
<th style="text-align: left;">f.o</th>
<th style="text-align: left;">p.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12965290010497_2</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">47.86905</td>
<td style="text-align: right;">-120.3692</td>
<td style="text-align: right;">3700</td>
<td style="text-align: right;">-0.5591929</td>
<td style="text-align: right;">0.8290376</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">26.37535</td>
<td style="text-align: right;">8.144228</td>
<td style="text-align: right;">18.226291</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">47.58130</td>
<td style="text-align: right;">-120.3399</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">0.9271839</td>
<td style="text-align: right;">-0.3746066</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">20.009798</td>
<td style="text-align: right;">6.341620</td>
<td style="text-align: right;">11.117666</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="even">
<td style="text-align: left;">12965572010497_4</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">47.70658</td>
<td style="text-align: right;">-120.8548</td>
<td style="text-align: right;">5700</td>
<td style="text-align: right;">0.9848078</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">16.703291</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">1.562676</td>
<td style="text-align: right;">15.12788</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">A</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12965572010497_4.1</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">12965856010497_1</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">rare</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">47.32185</td>
<td style="text-align: right;">-120.7927</td>
<td style="text-align: right;">3500</td>
<td style="text-align: right;">0.6427876</td>
<td style="text-align: right;">-0.7660444</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">10.48032</td>
<td style="text-align: right;">10.475933</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">47.69902</td>
<td style="text-align: right;">-120.7040</td>
<td style="text-align: right;">2100</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">-0.9848078</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">26.236374</td>
<td style="text-align: right;">26.231543</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12967289010497_3</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">47.23914</td>
<td style="text-align: right;">-121.0366</td>
<td style="text-align: right;">2300</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13.29328</td>
<td style="text-align: right;">11.392991</td>
<td style="text-align: right;">1.895823</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: right;">3100</td>
<td style="text-align: right;">0.9848078</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">9.748685</td>
<td style="text-align: right;">6.276304</td>
<td style="text-align: right;">2.363871</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.104146</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">H</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970163010497_1</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">48.67932</td>
<td style="text-align: right;">-120.4770</td>
<td style="text-align: right;">4700</td>
<td style="text-align: right;">-0.6018150</td>
<td style="text-align: right;">-0.7986355</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">18.17106</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">11.434019</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">48.39609</td>
<td style="text-align: right;">-120.8255</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">-0.6819984</td>
<td style="text-align: right;">-0.7313537</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">19.628841</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">19.624198</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">rownames_to_column</span>(<span class="st">"CN"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(CN <span class="sc">==</span> <span class="st">"12965572010497_4"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">CN</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">PIPO_BA</th>
<th style="text-align: right;">PSME_BA</th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">ABGR_BA</th>
<th style="text-align: right;">PICO_BA</th>
<th style="text-align: right;">LALY_BA</th>
<th style="text-align: right;">PIAL_BA</th>
<th style="text-align: right;">PIEN_BA</th>
<th style="text-align: right;">ABLA_BA</th>
<th style="text-align: right;">LAOC_BA</th>
<th style="text-align: right;">THPL_BA</th>
<th style="text-align: right;">ALRU2_BA</th>
<th style="text-align: right;">TSHE_BA</th>
<th style="text-align: right;">TABR2_BA</th>
<th style="text-align: right;">CHNO_BA</th>
<th style="text-align: right;">POBAT_BA</th>
<th style="text-align: right;">ABPR_BA</th>
<th style="text-align: right;">BEPA_BA</th>
<th style="text-align: right;">PREM_BA</th>
<th style="text-align: right;">POTR5_BA</th>
<th style="text-align: right;">PIMO3_BA</th>
<th style="text-align: right;">ACGL_BA</th>
<th style="text-align: right;">ACMA3_BA</th>
<th style="text-align: right;">Other_BA</th>
<th style="text-align: right;">ALRH2_BA</th>
<th style="text-align: right;">PRVI_BA</th>
<th style="text-align: right;">CC.o</th>
<th style="text-align: right;">SDI.o</th>
<th style="text-align: right;">LAT.o</th>
<th style="text-align: right;">LON.o</th>
<th style="text-align: right;">ELEV.o</th>
<th style="text-align: right;">Northing.o</th>
<th style="text-align: right;">Easting.o</th>
<th style="text-align: right;">SLOPE.o</th>
<th style="text-align: right;">BAp.o</th>
<th style="text-align: right;">PIPO_BA.o</th>
<th style="text-align: right;">PSME_BA.o</th>
<th style="text-align: right;">ABAM_BA.o</th>
<th style="text-align: right;">TSME_BA.o</th>
<th style="text-align: right;">ABGR_BA.o</th>
<th style="text-align: right;">PICO_BA.o</th>
<th style="text-align: right;">LALY_BA.o</th>
<th style="text-align: right;">PIAL_BA.o</th>
<th style="text-align: right;">PIEN_BA.o</th>
<th style="text-align: right;">ABLA_BA.o</th>
<th style="text-align: right;">LAOC_BA.o</th>
<th style="text-align: right;">THPL_BA.o</th>
<th style="text-align: right;">ALRU2_BA.o</th>
<th style="text-align: right;">TSHE_BA.o</th>
<th style="text-align: right;">TABR2_BA.o</th>
<th style="text-align: right;">CHNO_BA.o</th>
<th style="text-align: right;">POBAT_BA.o</th>
<th style="text-align: right;">ABPR_BA.o</th>
<th style="text-align: right;">BEPA_BA.o</th>
<th style="text-align: right;">PREM_BA.o</th>
<th style="text-align: right;">POTR5_BA.o</th>
<th style="text-align: right;">PIMO3_BA.o</th>
<th style="text-align: right;">ACGL_BA.o</th>
<th style="text-align: right;">ACMA3_BA.o</th>
<th style="text-align: right;">Other_BA.o</th>
<th style="text-align: right;">ALRH2_BA.o</th>
<th style="text-align: right;">PRVI_BA.o</th>
<th style="text-align: left;">f</th>
<th style="text-align: left;">p</th>
<th style="text-align: left;">f.o</th>
<th style="text-align: left;">p.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12965572010497_4</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.8958</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.8958</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">47.70658</td>
<td style="text-align: right;">-120.8548</td>
<td style="text-align: right;">5700</td>
<td style="text-align: right;">0.9848078</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">16.70329</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.562676</td>
<td style="text-align: right;">15.12788</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">A</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 518</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="dv">518</span><span class="sc">/</span><span class="dv">1498</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3457944</code></pre>
</div>
</div>
<p>About 35% of the data were imputed in this run.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> rf_imp_test <span class="sc">|&gt;</span> <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">order</span>(<span class="fu">colnames</span>(rf_imp_test))) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>tc <span class="ot">&lt;-</span> t <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">where</span>(is.numeric))</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> t <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> t[, <span class="fu">colSums</span>(t) <span class="sc">!=</span> <span class="dv">0</span>]</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">cbind</span>(t,tc)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>t </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 0%">
<col style="width: 0%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">ABAM_BA.o</th>
<th style="text-align: right;">ABLA_BA</th>
<th style="text-align: right;">ABLA_BA.o</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">BAp.o</th>
<th style="text-align: right;">BEPA_BA</th>
<th style="text-align: right;">BEPA_BA.o</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">CC.o</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">Easting.o</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">ELEV.o</th>
<th style="text-align: right;">LALY_BA</th>
<th style="text-align: right;">LALY_BA.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">LAT.o</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">LON.o</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Northing.o</th>
<th style="text-align: right;">PIAL_BA</th>
<th style="text-align: right;">PICO_BA.o</th>
<th style="text-align: right;">PIEN_BA.o</th>
<th style="text-align: right;">PIPO_BA</th>
<th style="text-align: right;">PIPO_BA.o</th>
<th style="text-align: right;">PREM_BA</th>
<th style="text-align: right;">PREM_BA.o</th>
<th style="text-align: right;">PSME_BA</th>
<th style="text-align: right;">PSME_BA.o</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">SDI.o</th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">SLOPE.o</th>
<th style="text-align: right;">TABR2_BA.o</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: right;">TSHE_BA</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">TSME_BA.o</th>
<th style="text-align: left;">f</th>
<th style="text-align: left;">f.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: left;">p</th>
<th style="text-align: left;">p.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12965290010497_2</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">26.375353</td>
<td style="text-align: right;">20.009798</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.8290376</td>
<td style="text-align: right;">-0.3746066</td>
<td style="text-align: right;">3700</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">47.86905</td>
<td style="text-align: right;">47.58130</td>
<td style="text-align: right;">-120.3692</td>
<td style="text-align: right;">-120.3399</td>
<td style="text-align: right;">-0.5591929</td>
<td style="text-align: right;">0.9271839</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">8.144228</td>
<td style="text-align: right;">6.341620</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">18.226291</td>
<td style="text-align: right;">11.117666</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="even">
<td style="text-align: left;">12965856010497_1</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">10.480317</td>
<td style="text-align: right;">26.236374</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">-0.7660444</td>
<td style="text-align: right;">-0.9848078</td>
<td style="text-align: right;">3500</td>
<td style="text-align: right;">2100</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">47.32185</td>
<td style="text-align: right;">47.69902</td>
<td style="text-align: right;">-120.7927</td>
<td style="text-align: right;">-120.7040</td>
<td style="text-align: right;">0.6427876</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">10.475933</td>
<td style="text-align: right;">26.231543</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">rare</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12967289010497_3</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">13.293278</td>
<td style="text-align: right;">9.748685</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">2300</td>
<td style="text-align: right;">3100</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">47.23914</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">-121.0366</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9848078</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">1.104146</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">11.392991</td>
<td style="text-align: right;">6.276304</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">1.895823</td>
<td style="text-align: right;">2.363871</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">H</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970163010497_1</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">18.171064</td>
<td style="text-align: right;">19.628841</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">-0.7986355</td>
<td style="text-align: right;">-0.7313537</td>
<td style="text-align: right;">4700</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">48.67932</td>
<td style="text-align: right;">48.39609</td>
<td style="text-align: right;">-120.4770</td>
<td style="text-align: right;">-120.8255</td>
<td style="text-align: right;">-0.6018150</td>
<td style="text-align: right;">-0.6819984</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">11.434019</td>
<td style="text-align: right;">19.624198</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12970308010497_2</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">1.411319</td>
<td style="text-align: right;">4.130790</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-0.8571673</td>
<td style="text-align: right;">-0.9396926</td>
<td style="text-align: right;">6700</td>
<td style="text-align: right;">6300</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">2.778090</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">48.81243</td>
<td style="text-align: right;">48.52937</td>
<td style="text-align: right;">-120.6971</td>
<td style="text-align: right;">-120.6677</td>
<td style="text-align: right;">0.5150381</td>
<td style="text-align: right;">0.3420201</td>
<td style="text-align: right;">1.386747</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">149.93056</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">A</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970308010497_4</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">1.708079</td>
<td style="text-align: right;">1.302722</td>
<td style="text-align: right;">13.707440</td>
<td style="text-align: right;">12.556096</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">-0.8987940</td>
<td style="text-align: right;">-0.9998477</td>
<td style="text-align: right;">6700</td>
<td style="text-align: right;">6300</td>
<td style="text-align: right;">11.97853</td>
<td style="text-align: right;">7.434261</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">48.81243</td>
<td style="text-align: right;">48.52937</td>
<td style="text-align: right;">-120.6971</td>
<td style="text-align: right;">-120.6677</td>
<td style="text-align: right;">0.4383711</td>
<td style="text-align: right;">0.0174524</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">1.046683</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">374.82641</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">2.763898</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">PIEN_TD</td>
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">A</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12988512010497_1</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">56.629471</td>
<td style="text-align: right;">64.086807</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">-0.7660444</td>
<td style="text-align: right;">-0.8090170</td>
<td style="text-align: right;">3500</td>
<td style="text-align: right;">3500</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">48.68978</td>
<td style="text-align: right;">48.68978</td>
<td style="text-align: right;">-120.8723</td>
<td style="text-align: right;">-120.8723</td>
<td style="text-align: right;">-0.6427876</td>
<td style="text-align: right;">-0.5877853</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">28.926582</td>
<td style="text-align: right;">52.445809</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">171</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">4.027277</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">20.89114</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">TABR2_TD</td>
<td style="text-align: left;">TABR2_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="even">
<td style="text-align: left;">12990036010497_1</td>
<td style="text-align: right;">16.90395</td>
<td style="text-align: right;">33.80122</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">47.819946</td>
<td style="text-align: right;">61.280850</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">-0.4848096</td>
<td style="text-align: right;">-0.5877853</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">374.82641</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">0.8746197</td>
<td style="text-align: right;">0.8090170</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">154</td>
<td style="text-align: right;">161</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">899.58339</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">30.86558</td>
<td style="text-align: right;">17.089856</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12990036010497_4</td>
<td style="text-align: right;">33.80122</td>
<td style="text-align: right;">16.90395</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">61.280850</td>
<td style="text-align: right;">47.819946</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">-0.5877853</td>
<td style="text-align: right;">-0.4848096</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">374.82641</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">0.8090170</td>
<td style="text-align: right;">0.8746197</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">161</td>
<td style="text-align: right;">154</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">899.58339</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">17.08986</td>
<td style="text-align: right;">30.865583</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
</tr>
<tr class="even">
<td style="text-align: left;">13000318010497_4</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">28.232428</td>
<td style="text-align: right;">14.641714</td>
<td style="text-align: right;">3.393543</td>
<td style="text-align: right;">13.14078</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">-0.9902681</td>
<td style="text-align: right;">-0.9975641</td>
<td style="text-align: right;">1300</td>
<td style="text-align: right;">1300</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">299.86113</td>
<td style="text-align: right;">48.57542</td>
<td style="text-align: right;">48.57542</td>
<td style="text-align: right;">-122.2011</td>
<td style="text-align: right;">-122.2011</td>
<td style="text-align: right;">-0.1391731</td>
<td style="text-align: right;">-0.0697565</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">2.894733</td>
<td style="text-align: right;">1.455544</td>
<td style="text-align: right;">1.988382</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">149.93056</td>
<td style="text-align: right;">824.61811</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">BEPA_TD</td>
<td style="text-align: left;">BEPA_TD</td>
<td style="text-align: left;">PREM_TD</td>
<td style="text-align: left;">PREM_TD</td>
<td style="text-align: left;">H</td>
<td style="text-align: left;">H</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>rf_original_preds_eval <span class="ot">&lt;-</span> <span class="fu">yaiRFsummary</span>(rf_yai)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="oobe" class="level3">
<h3 class="anchored" data-anchor-id="oobe"><em>OOBe</em></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>rf_original_preds_eval<span class="sc">$</span>forestAttributes <span class="sc">|&gt;</span> <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ntree</th>
<th style="text-align: right;">error</th>
<th style="text-align: left;">errtag</th>
<th style="text-align: right;">levels</th>
<th style="text-align: left;">type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">max_spp1</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.1161549</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">max_spp2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.1535381</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">largest_1</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.0240320</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">largest_2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.0547397</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_TD</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.0340454</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">classification</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="importance" class="level3">
<h3 class="anchored" data-anchor-id="importance"><em>Importance</em></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>importance <span class="ot">&lt;-</span> rf_original_preds_eval<span class="sc">$</span>scaledImportance</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>importance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">p</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">PSME_BA</th>
<th style="text-align: right;">TSHE_BA</th>
<th style="text-align: right;">LALY_BA</th>
<th style="text-align: right;">ABLA_BA</th>
<th style="text-align: right;">PICO_BA</th>
<th style="text-align: right;">ABGR_BA</th>
<th style="text-align: right;">THPL_BA</th>
<th style="text-align: right;">PIEN_BA</th>
<th style="text-align: right;">ACMA3_BA</th>
<th style="text-align: right;">PIMO3_BA</th>
<th style="text-align: right;">CHNO_BA</th>
<th style="text-align: right;">PIAL_BA</th>
<th style="text-align: right;">PIPO_BA</th>
<th style="text-align: right;">ALRU2_BA</th>
<th style="text-align: right;">TABR2_BA</th>
<th style="text-align: right;">LAOC_BA</th>
<th style="text-align: right;">POBAT_BA</th>
<th style="text-align: right;">ABPR_BA</th>
<th style="text-align: right;">BEPA_BA</th>
<th style="text-align: right;">PREM_BA</th>
<th style="text-align: right;">ACGL_BA</th>
<th style="text-align: right;">PRVI_BA</th>
<th style="text-align: right;">f</th>
<th style="text-align: right;">Other_BA</th>
<th style="text-align: right;">ALRH2_BA</th>
<th style="text-align: right;">POTR5_BA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">max_spp1</td>
<td style="text-align: right;">1.558925</td>
<td style="text-align: right;">1.208273</td>
<td style="text-align: right;">1.041274</td>
<td style="text-align: right;">1.675878</td>
<td style="text-align: right;">0.9098844</td>
<td style="text-align: right;">0.7888895</td>
<td style="text-align: right;">1.604107</td>
<td style="text-align: right;">0.7175049</td>
<td style="text-align: right;">1.7701737</td>
<td style="text-align: right;">1.0510177</td>
<td style="text-align: right;">0.7480084</td>
<td style="text-align: right;">0.0295304</td>
<td style="text-align: right;">0.8566858</td>
<td style="text-align: right;">0.3538183</td>
<td style="text-align: right;">-0.9540273</td>
<td style="text-align: right;">1.2364136</td>
<td style="text-align: right;">0.1771727</td>
<td style="text-align: right;">0.5988776</td>
<td style="text-align: right;">-0.1336926</td>
<td style="text-align: right;">-0.1961103</td>
<td style="text-align: right;">-0.9531014</td>
<td style="text-align: right;">-0.5589924</td>
<td style="text-align: right;">0.2149623</td>
<td style="text-align: right;">-0.5641933</td>
<td style="text-align: right;">-0.0404940</td>
<td style="text-align: right;">-0.6130058</td>
<td style="text-align: right;">-0.7139977</td>
<td style="text-align: right;">-1.2011927</td>
<td style="text-align: right;">-0.8236669</td>
<td style="text-align: right;">-1.1526558</td>
<td style="text-align: right;">-0.9769438</td>
<td style="text-align: right;">-0.8079516</td>
<td style="text-align: right;">-0.413881</td>
<td style="text-align: right;">-0.9769174</td>
<td style="text-align: right;">-1.411739</td>
<td style="text-align: right;">-1.411739</td>
<td style="text-align: right;">-1.411739</td>
<td style="text-align: right;">-1.225353</td>
</tr>
<tr class="even">
<td style="text-align: left;">max_spp2</td>
<td style="text-align: right;">1.662449</td>
<td style="text-align: right;">1.924965</td>
<td style="text-align: right;">1.515530</td>
<td style="text-align: right;">1.613317</td>
<td style="text-align: right;">1.3807427</td>
<td style="text-align: right;">1.1540786</td>
<td style="text-align: right;">1.161668</td>
<td style="text-align: right;">0.7317385</td>
<td style="text-align: right;">0.6692320</td>
<td style="text-align: right;">1.1802601</td>
<td style="text-align: right;">0.7791724</td>
<td style="text-align: right;">1.0833748</td>
<td style="text-align: right;">0.3467484</td>
<td style="text-align: right;">0.6013069</td>
<td style="text-align: right;">-0.3261784</td>
<td style="text-align: right;">0.1977850</td>
<td style="text-align: right;">-0.1490879</td>
<td style="text-align: right;">0.1635315</td>
<td style="text-align: right;">-0.1199061</td>
<td style="text-align: right;">0.0106865</td>
<td style="text-align: right;">-0.8190500</td>
<td style="text-align: right;">-0.1736782</td>
<td style="text-align: right;">-0.3794180</td>
<td style="text-align: right;">-0.4126018</td>
<td style="text-align: right;">-0.3709072</td>
<td style="text-align: right;">-0.4757979</td>
<td style="text-align: right;">-0.8085306</td>
<td style="text-align: right;">-0.8903888</td>
<td style="text-align: right;">-0.7390151</td>
<td style="text-align: right;">-0.7952532</td>
<td style="text-align: right;">-0.7706300</td>
<td style="text-align: right;">-0.9807265</td>
<td style="text-align: right;">-1.102433</td>
<td style="text-align: right;">-1.3718645</td>
<td style="text-align: right;">-1.371865</td>
<td style="text-align: right;">-1.371865</td>
<td style="text-align: right;">-1.371865</td>
<td style="text-align: right;">-1.375525</td>
</tr>
<tr class="odd">
<td style="text-align: left;">largest_1</td>
<td style="text-align: right;">1.236253</td>
<td style="text-align: right;">1.958184</td>
<td style="text-align: right;">1.769393</td>
<td style="text-align: right;">1.486715</td>
<td style="text-align: right;">1.3530763</td>
<td style="text-align: right;">1.6128958</td>
<td style="text-align: right;">1.116001</td>
<td style="text-align: right;">1.1647436</td>
<td style="text-align: right;">1.1133394</td>
<td style="text-align: right;">0.7199962</td>
<td style="text-align: right;">0.4255779</td>
<td style="text-align: right;">0.8387963</td>
<td style="text-align: right;">0.4756084</td>
<td style="text-align: right;">0.1787187</td>
<td style="text-align: right;">0.3969249</td>
<td style="text-align: right;">0.0828726</td>
<td style="text-align: right;">0.2011575</td>
<td style="text-align: right;">-0.4811132</td>
<td style="text-align: right;">0.0467707</td>
<td style="text-align: right;">-0.0207838</td>
<td style="text-align: right;">0.3418426</td>
<td style="text-align: right;">-0.7395099</td>
<td style="text-align: right;">-0.7175975</td>
<td style="text-align: right;">-0.6239036</td>
<td style="text-align: right;">-0.5748648</td>
<td style="text-align: right;">-1.1361408</td>
<td style="text-align: right;">-1.0258728</td>
<td style="text-align: right;">-0.6118533</td>
<td style="text-align: right;">-1.0258728</td>
<td style="text-align: right;">-1.0258728</td>
<td style="text-align: right;">-1.0258728</td>
<td style="text-align: right;">-1.0258728</td>
<td style="text-align: right;">-1.025873</td>
<td style="text-align: right;">-1.0258728</td>
<td style="text-align: right;">-1.025873</td>
<td style="text-align: right;">-1.025873</td>
<td style="text-align: right;">-1.025873</td>
<td style="text-align: right;">-1.354372</td>
</tr>
<tr class="even">
<td style="text-align: left;">largest_2</td>
<td style="text-align: right;">1.786641</td>
<td style="text-align: right;">1.526888</td>
<td style="text-align: right;">1.326708</td>
<td style="text-align: right;">1.203501</td>
<td style="text-align: right;">1.2262858</td>
<td style="text-align: right;">1.4605848</td>
<td style="text-align: right;">1.389113</td>
<td style="text-align: right;">1.1347658</td>
<td style="text-align: right;">0.3440203</td>
<td style="text-align: right;">1.3615892</td>
<td style="text-align: right;">0.8188220</td>
<td style="text-align: right;">0.1796654</td>
<td style="text-align: right;">0.2269323</td>
<td style="text-align: right;">0.2669381</td>
<td style="text-align: right;">0.6236740</td>
<td style="text-align: right;">0.2568933</td>
<td style="text-align: right;">-0.5884786</td>
<td style="text-align: right;">0.4472171</td>
<td style="text-align: right;">0.1365760</td>
<td style="text-align: right;">-0.0010665</td>
<td style="text-align: right;">-0.1266348</td>
<td style="text-align: right;">0.0035416</td>
<td style="text-align: right;">0.0383987</td>
<td style="text-align: right;">-0.1380451</td>
<td style="text-align: right;">-0.6093569</td>
<td style="text-align: right;">-0.4709045</td>
<td style="text-align: right;">-0.5974725</td>
<td style="text-align: right;">-0.5414203</td>
<td style="text-align: right;">-1.0499757</td>
<td style="text-align: right;">-0.9654481</td>
<td style="text-align: right;">-1.3036974</td>
<td style="text-align: right;">-1.5440712</td>
<td style="text-align: right;">-1.303697</td>
<td style="text-align: right;">-1.3036974</td>
<td style="text-align: right;">-1.303697</td>
<td style="text-align: right;">-1.303697</td>
<td style="text-align: right;">-1.303697</td>
<td style="text-align: right;">-1.303697</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_TD</td>
<td style="text-align: right;">1.512209</td>
<td style="text-align: right;">1.232095</td>
<td style="text-align: right;">1.676469</td>
<td style="text-align: right;">1.100711</td>
<td style="text-align: right;">1.4832744</td>
<td style="text-align: right;">1.3295658</td>
<td style="text-align: right;">1.236964</td>
<td style="text-align: right;">1.5923416</td>
<td style="text-align: right;">1.0616862</td>
<td style="text-align: right;">0.9066430</td>
<td style="text-align: right;">0.5182823</td>
<td style="text-align: right;">0.6144182</td>
<td style="text-align: right;">0.5977501</td>
<td style="text-align: right;">0.5463858</td>
<td style="text-align: right;">0.3213019</td>
<td style="text-align: right;">0.6338387</td>
<td style="text-align: right;">0.2392625</td>
<td style="text-align: right;">-0.2067214</td>
<td style="text-align: right;">0.1396522</td>
<td style="text-align: right;">0.0368163</td>
<td style="text-align: right;">-0.1930890</td>
<td style="text-align: right;">-0.3593547</td>
<td style="text-align: right;">-0.4746693</td>
<td style="text-align: right;">-0.8424834</td>
<td style="text-align: right;">-0.5871502</td>
<td style="text-align: right;">-0.7877066</td>
<td style="text-align: right;">-1.1687453</td>
<td style="text-align: right;">-0.8852563</td>
<td style="text-align: right;">-0.9639615</td>
<td style="text-align: right;">-0.6850128</td>
<td style="text-align: right;">-1.1687453</td>
<td style="text-align: right;">-1.1687453</td>
<td style="text-align: right;">-1.168745</td>
<td style="text-align: right;">-1.1687453</td>
<td style="text-align: right;">-1.168745</td>
<td style="text-align: right;">-1.168745</td>
<td style="text-align: right;">-1.168745</td>
<td style="text-align: right;">-1.444299</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="rmsd" class="level3">
<h3 class="anchored" data-anchor-id="rmsd"><em>RMSD</em></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rmsd</span>(rf_imp_test) <span class="sc">|&gt;</span> <span class="fu">kable</span>() <span class="sc">|&gt;</span> <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"500px"</span>, <span class="at">height =</span> <span class="st">"500px"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:500px; ">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">largest_1</td>
<td style="text-align: right;">1542.2268689</td>
</tr>
<tr class="even">
<td style="text-align: left;">largest_2</td>
<td style="text-align: right;">199.4848715</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_TD</td>
<td style="text-align: right;">1593.1710112</td>
</tr>
<tr class="even">
<td style="text-align: left;">max_spp1</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">max_spp2</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">CC</td>
<td style="text-align: right;">9.4660540</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SDI</td>
<td style="text-align: right;">34.4047563</td>
</tr>
<tr class="even">
<td style="text-align: left;">LAT</td>
<td style="text-align: right;">0.2740096</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LON</td>
<td style="text-align: right;">0.1903460</td>
</tr>
<tr class="even">
<td style="text-align: left;">ELEV</td>
<td style="text-align: right;">550.1140633</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Northing</td>
<td style="text-align: right;">0.5757505</td>
</tr>
<tr class="even">
<td style="text-align: left;">Easting</td>
<td style="text-align: right;">0.5747653</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SLOPE</td>
<td style="text-align: right;">18.6971908</td>
</tr>
<tr class="even">
<td style="text-align: left;">BAp</td>
<td style="text-align: right;">17.1523709</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PIPO_BA</td>
<td style="text-align: right;">4.5918526</td>
</tr>
<tr class="even">
<td style="text-align: left;">PSME_BA</td>
<td style="text-align: right;">9.8134017</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABAM_BA</td>
<td style="text-align: right;">10.0848540</td>
</tr>
<tr class="even">
<td style="text-align: left;">TSME_BA</td>
<td style="text-align: right;">10.5137807</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABGR_BA</td>
<td style="text-align: right;">2.6067264</td>
</tr>
<tr class="even">
<td style="text-align: left;">PICO_BA</td>
<td style="text-align: right;">5.6667623</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LALY_BA</td>
<td style="text-align: right;">1.1377008</td>
</tr>
<tr class="even">
<td style="text-align: left;">PIAL_BA</td>
<td style="text-align: right;">1.0763442</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PIEN_BA</td>
<td style="text-align: right;">4.1869707</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABLA_BA</td>
<td style="text-align: right;">4.6869382</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LAOC_BA</td>
<td style="text-align: right;">1.1115066</td>
</tr>
<tr class="even">
<td style="text-align: left;">THPL_BA</td>
<td style="text-align: right;">10.2969905</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ALRU2_BA</td>
<td style="text-align: right;">1.5167738</td>
</tr>
<tr class="even">
<td style="text-align: left;">TSHE_BA</td>
<td style="text-align: right;">9.1941769</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TABR2_BA</td>
<td style="text-align: right;">0.4713020</td>
</tr>
<tr class="even">
<td style="text-align: left;">CHNO_BA</td>
<td style="text-align: right;">4.4862444</td>
</tr>
<tr class="odd">
<td style="text-align: left;">POBAT_BA</td>
<td style="text-align: right;">0.9540690</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABPR_BA</td>
<td style="text-align: right;">2.1435686</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BEPA_BA</td>
<td style="text-align: right;">0.4282690</td>
</tr>
<tr class="even">
<td style="text-align: left;">PREM_BA</td>
<td style="text-align: right;">0.1235093</td>
</tr>
<tr class="odd">
<td style="text-align: left;">POTR5_BA</td>
<td style="text-align: right;">0.2291539</td>
</tr>
<tr class="even">
<td style="text-align: left;">PIMO3_BA</td>
<td style="text-align: right;">0.6018163</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ACGL_BA</td>
<td style="text-align: right;">1.2930933</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACMA3_BA</td>
<td style="text-align: right;">0.1621338</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other_BA</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ALRH2_BA</td>
<td style="text-align: right;">0.1651984</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PRVI_BA</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">f</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
<p><em>The output for rmsd makes me think that is classifying by standplot cn. Why else would it have the predictor variables?</em></p>
<p><em>Here are the Predictor and response variables used in the above imputation again.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> <span class="fu">names</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] CC       SDI      LAT      LON      ELEV     Northing Easting  SLOPE    BAp      f        p        PIPO_BA  PSME_BA  ABAM_BA  TSME_BA  ABGR_BA  PICO_BA  LALY_BA  PIAL_BA  PIEN_BA  ABLA_BA  LAOC_BA  THPL_BA  ALRU2_BA TSHE_BA  TABR2_BA CHNO_BA  POBAT_BA ABPR_BA  BEPA_BA  PREM_BA  POTR5_BA PIMO3_BA ACGL_BA  ACMA3_BA Other_BA ALRH2_BA PRVI_BA </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">|&gt;</span> <span class="fu">names</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] max_spp1  max_spp2  largest_1 largest_2 total_TD </code></pre>
</div>
</div>
</section>
<section id="ancillary-data" class="level2">
<h2 class="anchored" data-anchor-id="ancillary-data">Ancillary data</h2>
<p>Copying the St.Joe example in the yaImpute paper, I am adding the original TDs back onto the imputation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_above0</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_ancil <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp1 =</span> <span class="fu">factor</span>(max_spp1), </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">factor</span>(max_spp2)</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(max_spp3, largest_3))</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_ancil <span class="sc">|&gt;</span> <span class="fu">column_to_rownames</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_ancil <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>rf_imp_ancillary <span class="ot">&lt;-</span> <span class="fu">impute</span>(rf_yai, <span class="at">ancillaryData =</span> y_ancil) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>()</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_imp_ancillary |&gt; head()</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>rf_imp_ancillary <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">order</span>(<span class="fu">colnames</span>(rf_imp_ancillary))) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ABAM_TD</th>
<th style="text-align: right;">ABAM_TD.o</th>
<th style="text-align: right;">ABCO_TD</th>
<th style="text-align: right;">ABCO_TD.o</th>
<th style="text-align: right;">ABGR_TD</th>
<th style="text-align: right;">ABGR_TD.o</th>
<th style="text-align: right;">ABLA_TD</th>
<th style="text-align: right;">ABLA_TD.o</th>
<th style="text-align: right;">ABPR_TD</th>
<th style="text-align: right;">ABPR_TD.o</th>
<th style="text-align: right;">ACGL_TD</th>
<th style="text-align: right;">ACGL_TD.o</th>
<th style="text-align: right;">ACMA3_TD</th>
<th style="text-align: right;">ACMA3_TD.o</th>
<th style="text-align: right;">ALRU2_TD</th>
<th style="text-align: right;">ALRU2_TD.o</th>
<th style="text-align: right;">BEOC2_TD</th>
<th style="text-align: right;">BEOC2_TD.o</th>
<th style="text-align: right;">BEPA_TD</th>
<th style="text-align: right;">BEPA_TD.o</th>
<th style="text-align: right;">CHLA_TD</th>
<th style="text-align: right;">CHLA_TD.o</th>
<th style="text-align: right;">CHNO_TD</th>
<th style="text-align: right;">CHNO_TD.o</th>
<th style="text-align: right;">CONU4_TD</th>
<th style="text-align: right;">CONU4_TD.o</th>
<th style="text-align: right;">LALY_TD</th>
<th style="text-align: right;">LALY_TD.o</th>
<th style="text-align: right;">LAOC_TD</th>
<th style="text-align: right;">LAOC_TD.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: right;">MAFU_TD</th>
<th style="text-align: right;">MAFU_TD.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">Other_TD</th>
<th style="text-align: right;">Other_TD.o</th>
<th style="text-align: right;">PIAL_TD</th>
<th style="text-align: right;">PIAL_TD.o</th>
<th style="text-align: right;">PICO_TD</th>
<th style="text-align: right;">PICO_TD.o</th>
<th style="text-align: right;">PIEN_TD</th>
<th style="text-align: right;">PIEN_TD.o</th>
<th style="text-align: right;">PIMO3_TD</th>
<th style="text-align: right;">PIMO3_TD.o</th>
<th style="text-align: right;">PIPO_TD</th>
<th style="text-align: right;">PIPO_TD.o</th>
<th style="text-align: right;">PISI_TD</th>
<th style="text-align: right;">PISI_TD.o</th>
<th style="text-align: right;">POTR5_TD</th>
<th style="text-align: right;">POTR5_TD.o</th>
<th style="text-align: right;">PREM_TD</th>
<th style="text-align: right;">PREM_TD.o</th>
<th style="text-align: right;">PRPE2_TD</th>
<th style="text-align: right;">PRPE2_TD.o</th>
<th style="text-align: right;">PRVI_TD</th>
<th style="text-align: right;">PRVI_TD.o</th>
<th style="text-align: right;">PSME_TD</th>
<th style="text-align: right;">PSME_TD.o</th>
<th style="text-align: right;">QUGA4_TD</th>
<th style="text-align: right;">QUGA4_TD.o</th>
<th style="text-align: right;">rare_TD</th>
<th style="text-align: right;">rare_TD.o</th>
<th style="text-align: right;">TABR2_TD</th>
<th style="text-align: right;">TABR2_TD.o</th>
<th style="text-align: right;">THPL_TD</th>
<th style="text-align: right;">THPL_TD.o</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: right;">TSHE_TD</th>
<th style="text-align: right;">TSHE_TD.o</th>
<th style="text-align: right;">TSME_TD</th>
<th style="text-align: right;">TSME_TD.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12965290010497_2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12965856010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">POBAT_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12967289010497_3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970163010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12970308010497_2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">449.7917</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">149.93056</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970308010497_4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.8958</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">PIEN_TD</td>
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">374.82641</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rmsd</span>(rf_imp_ancillary) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="at">n =</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: right;">44.94914</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: right;">289.32679</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">186.02935</td>
</tr>
<tr class="even">
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: right;">657.62816</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: right;">454.06698</td>
</tr>
<tr class="even">
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: right;">47.69618</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PIEN_TD</td>
<td style="text-align: right;">261.37194</td>
</tr>
<tr class="even">
<td style="text-align: left;">PICO_TD</td>
<td style="text-align: right;">267.14061</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LAOC_TD</td>
<td style="text-align: right;">322.04298</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACGL_TD</td>
<td style="text-align: right;">18.79321</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<section id="var-importance" class="level3">
<h3 class="anchored" data-anchor-id="var-importance">Var importance</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> <span class="fu">names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "CC"       "SDI"      "LAT"      "LON"      "ELEV"     "Northing" "Easting"  "SLOPE"    "BAp"      "f"        "p"        "PIPO_BA"  "PSME_BA"  "ABAM_BA"  "TSME_BA"  "ABGR_BA"  "PICO_BA"  "LALY_BA"  "PIAL_BA"  "PIEN_BA"  "ABLA_BA"  "LAOC_BA"  "THPL_BA"  "ALRU2_BA" "TSHE_BA"  "TABR2_BA" "CHNO_BA"  "POBAT_BA" "ABPR_BA"  "BEPA_BA"  "PREM_BA"  "POTR5_BA" "PIMO3_BA" "ACGL_BA"  "ACMA3_BA" "Other_BA" "ALRH2_BA" "PRVI_BA" </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yaiVarImp</span>(rf_yai)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="terminal-buckets" class="level3">
<h3 class="anchored" data-anchor-id="terminal-buckets">Terminal Buckets</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data/example_imputation.Rdata"</span>)</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co"># a &lt;- t[8:9,]</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co"># a &lt;-  a %&gt;% select_if(~ !is.numeric(.) || sum(.) != 0)</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 0%">
<col style="width: 1%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">ABAM_BA.o</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">BAp.o</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">CC.o</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">Easting.o</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">ELEV.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">LAT.o</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">LON.o</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Northing.o</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">SDI.o</th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">SLOPE.o</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">TSME_BA.o</th>
<th style="text-align: left;">f</th>
<th style="text-align: left;">f.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: left;">p</th>
<th style="text-align: left;">p.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12990036010497_1</td>
<td style="text-align: right;">16.90395</td>
<td style="text-align: right;">33.80122</td>
<td style="text-align: right;">47.81995</td>
<td style="text-align: right;">61.28085</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">-0.4848096</td>
<td style="text-align: right;">-0.5877853</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">449.7917</td>
<td style="text-align: right;">374.8264</td>
<td style="text-align: right;">449.7917</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">0.8746197</td>
<td style="text-align: right;">0.8090170</td>
<td style="text-align: right;">154</td>
<td style="text-align: right;">161</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">899.5834</td>
<td style="text-align: right;">524.7570</td>
<td style="text-align: right;">30.86558</td>
<td style="text-align: right;">17.08986</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
</tr>
<tr class="even">
<td style="text-align: left;">12990036010497_4</td>
<td style="text-align: right;">33.80122</td>
<td style="text-align: right;">16.90395</td>
<td style="text-align: right;">61.28085</td>
<td style="text-align: right;">47.81995</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">-0.5877853</td>
<td style="text-align: right;">-0.4848096</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">4500</td>
<td style="text-align: right;">374.8264</td>
<td style="text-align: right;">449.7917</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">449.7917</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">48.95221</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">-121.8302</td>
<td style="text-align: right;">0.8090170</td>
<td style="text-align: right;">0.8746197</td>
<td style="text-align: right;">161</td>
<td style="text-align: right;">154</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">524.7570</td>
<td style="text-align: right;">899.5834</td>
<td style="text-align: right;">17.08986</td>
<td style="text-align: right;">30.86558</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The above example shows why I think that the CNs are in the terminal buckets. These two CNs are nearest neighbors in real and Random Forest’s Space. Each has been selected as the others nearest neighbor(assuming), and all of the observed values from one are written as the imputed values for the other and vice versa.</p>
</section>
</section>
</section>
<section id="factor-proportions" class="level1">
<h1>Factor Proportions</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>max_1 <span class="ot">&lt;-</span> rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">equal =</span> <span class="fu">ifelse</span>(max_spp1 <span class="sc">==</span> max_spp1.o, T, F)</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>max_1<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8798398</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> (max_1<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1201602</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>max_2 <span class="ot">&lt;-</span> rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">equal =</span> <span class="fu">ifelse</span>(max_spp2 <span class="sc">==</span> max_spp2.o, T, F)</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>max_2<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8351135</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> (max_2<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1648865</code></pre>
</div>
</div>
<p><strong>These proportions are slightly higher than those from OOBe, OOBe for max spp 1 vs prop was .116 v .120, and for max spp 2 it was .154 v .164.</strong></p>
<section id="heat-maps" class="level2">
<h2 class="anchored" data-anchor-id="heat-maps">Heat maps</h2>
<section id="max-spp-1" class="level3">
<h3 class="anchored" data-anchor-id="max-spp-1">Max spp 1</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span> </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp1 =</span>  <span class="fu">as.character</span>(max_spp1), </span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp1.o =</span>  <span class="fu">as.character</span>(max_spp1.o),</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">num =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(num),</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span> </span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> max_spp1, <span class="at">y =</span> max_spp1.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># aes(x = max_spp1, y = max_spp1.o, fill = max_spp1.o) +</span></span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb86-18"><a href="#cb86-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb86-19"><a href="#cb86-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="max-spp-2" class="level3">
<h3 class="anchored" data-anchor-id="max-spp-2">Max spp 2</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2 =</span>  <span class="fu">as.character</span>(max_spp2), </span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2.o =</span>  <span class="fu">as.character</span>(max_spp2.o),</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> max_spp2, <span class="at">y =</span> max_spp2.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient(low = "white", high = "red") +</span></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient2(low = "white", mid = "yellow", high = "red", midpoint = 100) +</span></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"red"</span>),</span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>                       <span class="co"># values = c(0, 15, 75, 855)</span></span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>                       ) <span class="sc">+</span></span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Same as above, but without zero</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2 =</span>  <span class="fu">as.character</span>(max_spp2), </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2.o =</span>  <span class="fu">as.character</span>(max_spp2.o),</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(max_spp2 <span class="sc">!=</span> <span class="st">"zero"</span> <span class="sc">&amp;</span> max_spp2.o <span class="sc">!=</span> <span class="st">"zero"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> max_spp2, <span class="at">y =</span> max_spp2.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb88-17"><a href="#cb88-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient(low = "white", high = "red") +</span></span>
<span id="cb88-18"><a href="#cb88-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient2(low = "white", mid = "yellow", high = "red", midpoint = 100) +</span></span>
<span id="cb88-19"><a href="#cb88-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb88-20"><a href="#cb88-20" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"red"</span>),</span>
<span id="cb88-21"><a href="#cb88-21" aria-hidden="true" tabindex="-1"></a>                       <span class="co"># values = c(0, 15, 75, 855)</span></span>
<span id="cb88-22"><a href="#cb88-22" aria-hidden="true" tabindex="-1"></a>                       ) <span class="sc">+</span></span>
<span id="cb88-23"><a href="#cb88-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="f" class="level3">
<h3 class="anchored" data-anchor-id="f">f</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(f, f.o) <span class="sc">|&gt;</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">f =</span>  <span class="fu">as.character</span>(f), </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">f.o =</span>  <span class="fu">as.character</span>(f.o),</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(f, f.o) <span class="sc">|&gt;</span> </span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> f, <span class="at">y =</span> f.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="p" class="level3">
<h3 class="anchored" data-anchor-id="p">p</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(p, p.o) <span class="sc">|&gt;</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">p =</span>  <span class="fu">as.character</span>(p), </span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">p.o =</span>  <span class="fu">as.character</span>(p.o),</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(p, p.o) <span class="sc">|&gt;</span> </span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> p.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(<span class="fu">as.character</span>(rf_imp_test<span class="sc">$</span>p)) <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] D    &lt;NA&gt; A    M    H    F    Q    E    W    C    P   </code></pre>
</div>
</div>
<ul>
<li>D doug fir</li>
<li>A Alpine</li>
<li>M Mountain Hemlock</li>
<li>F Silver fir</li>
<li>Q <em>Probably Oak(Quercus), this isn’t in the Wenatchee guide</em></li>
<li>E Sub-alpine fir</li>
<li>W Grand Fir</li>
<li>C W. Hemlock</li>
<li>P Ponderosa</li>
</ul>
<p>The graphs were perhaps a waste of time, but I thought I could perhaps show something.</p>
<p>It could be interesting to see what happens when using the species groups as opposed to actual seedlings.</p>
</section>
</section>
</section>
<section id="section-1" class="level1">
<h1>________________</h1>
</section>
<section id="rf-seedlings" class="level1">
<h1>RF Seedlings</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># n1 larger = more spp in rare, 20 works often, </span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>n1 <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="co"># n2 larger = more spp2 in other</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>n2 <span class="ot">&lt;-</span> <span class="dv">12</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>y_above0 <span class="ot">&lt;-</span> yfull <span class="sc">|&gt;</span> <span class="fu">filter</span>(total_TD <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaning columns</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>y_not_numeric <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">where</span>(is.numeric))</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>y_numeric <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>y_numeric <span class="ot">&lt;-</span> y_numeric[, <span class="fu">colSums</span>(y_numeric) <span class="sc">!=</span> <span class="dv">0</span>]</span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>y_above0 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(y_not_numeric, y_numeric)</span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>CNs_wRegen <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN)</span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a><span class="co"># X Variables</span></span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a>x_above0 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(CNs_wRegen, x_pred, <span class="fu">join_by</span>(STANDPLOT_CN))</span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(a,g)) <span class="sc">|&gt;</span> </span>
<span id="cb93-22"><a href="#cb93-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb93-23"><a href="#cb93-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">f =</span> <span class="fu">factor</span>(f), </span>
<span id="cb93-24"><a href="#cb93-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="fu">factor</span>(p)</span>
<span id="cb93-25"><a href="#cb93-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(f, p, <span class="at">.after =</span> BAp) <span class="sc">|&gt;</span> </span>
<span id="cb93-26"><a href="#cb93-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">all_of</span>(remove))</span>
<span id="cb93-27"><a href="#cb93-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-28"><a href="#cb93-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-29"><a href="#cb93-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Y variables</span></span>
<span id="cb93-30"><a href="#cb93-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-31"><a href="#cb93-31" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp1) <span class="sc">|&gt;</span> </span>
<span id="cb93-32"><a href="#cb93-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb93-33"><a href="#cb93-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb93-34"><a href="#cb93-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">tpa =</span> <span class="fu">sum</span>(largest_1)</span>
<span id="cb93-35"><a href="#cb93-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb93-36"><a href="#cb93-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(n)</span>
<span id="cb93-37"><a href="#cb93-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-38"><a href="#cb93-38" aria-hidden="true" tabindex="-1"></a><span class="do">### n1</span></span>
<span id="cb93-39"><a href="#cb93-39" aria-hidden="true" tabindex="-1"></a>td_remove <span class="ot">&lt;-</span> t[<span class="dv">1</span><span class="sc">:</span>n1,]<span class="sc">$</span>max_spp1 <span class="sc">|&gt;</span> <span class="fu">as.character</span>()</span>
<span id="cb93-40"><a href="#cb93-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-41"><a href="#cb93-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-42"><a href="#cb93-42" aria-hidden="true" tabindex="-1"></a>y_rare <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">all_of</span>(td_remove))</span>
<span id="cb93-43"><a href="#cb93-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-44"><a href="#cb93-44" aria-hidden="true" tabindex="-1"></a>y_rare <span class="sc">|&gt;</span> <span class="fu">names</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] ALRH2_TD POBAT_TD PSMA_TD  BEPA_TD  ALRU2_TD LALY_TD  LAOC_TD  PIMO3_TD PRVI_TD  ACMA3_TD POTR5_TD PREM_TD  ACGL_TD  PIAL_TD  CHNO_TD  TABR2_TD PIEN_TD  THPL_TD  PIPO_TD  PICO_TD </code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>y_rare <span class="ot">&lt;-</span> y_rare <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">rare_TD =</span> <span class="fu">rowSums</span>(y_rare[<span class="fu">grep</span>(<span class="st">"_TD"</span>, <span class="fu">names</span>(y_rare))])</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>y_above0<span class="sc">$</span>rare_TD <span class="ot">&lt;-</span> y_rare<span class="sc">$</span>rare_TD</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>y_above0 <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">all_of</span>(td_remove))</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y_above0</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a><span class="co"># y &lt;- y_above0 |&gt; select(-c(max_spp1, max_spp2, largest_1, largest_2, total_TD))</span></span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y_above0 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(max_spp3, largest_3))</span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>y_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(y)</span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>spp2_list <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">group_by</span>(max_spp2) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(</span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb95-22"><a href="#cb95-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-23"><a href="#cb95-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-24"><a href="#cb95-24" aria-hidden="true" tabindex="-1"></a><span class="do">#### n2</span></span>
<span id="cb95-25"><a href="#cb95-25" aria-hidden="true" tabindex="-1"></a>spp2_list <span class="ot">&lt;-</span> spp2_list<span class="sc">$</span>max_spp2[<span class="dv">1</span><span class="sc">:</span>n2]</span>
<span id="cb95-26"><a href="#cb95-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-27"><a href="#cb95-27" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb95-28"><a href="#cb95-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp1 =</span> <span class="fu">ifelse</span>(</span>
<span id="cb95-29"><a href="#cb95-29" aria-hidden="true" tabindex="-1"></a>    max_spp1 <span class="sc">%in%</span> td_remove, <span class="st">"rare"</span>, max_spp1</span>
<span id="cb95-30"><a href="#cb95-30" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb95-31"><a href="#cb95-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb95-32"><a href="#cb95-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">ifelse</span>(</span>
<span id="cb95-33"><a href="#cb95-33" aria-hidden="true" tabindex="-1"></a>    max_spp2 <span class="sc">%in%</span> spp2_list, max_spp2, <span class="st">"other"</span></span>
<span id="cb95-34"><a href="#cb95-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb95-35"><a href="#cb95-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-36"><a href="#cb95-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-37"><a href="#cb95-37" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb95-38"><a href="#cb95-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp1 =</span> <span class="fu">factor</span>(max_spp1),</span>
<span id="cb95-39"><a href="#cb95-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">factor</span>(max_spp2)</span>
<span id="cb95-40"><a href="#cb95-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb95-41"><a href="#cb95-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-42"><a href="#cb95-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-43"><a href="#cb95-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-44"><a href="#cb95-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-45"><a href="#cb95-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-46"><a href="#cb95-46" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(x)</span>
<span id="cb95-47"><a href="#cb95-47" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(y)</span>
<span id="cb95-48"><a href="#cb95-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-49"><a href="#cb95-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-50"><a href="#cb95-50" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x <span class="sc">|&gt;</span> <span class="fu">column_to_rownames</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb95-51"><a href="#cb95-51" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y <span class="sc">|&gt;</span> <span class="fu">column_to_rownames</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb95-52"><a href="#cb95-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-53"><a href="#cb95-53" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(y)</span>
<span id="cb95-54"><a href="#cb95-54" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(x)</span>
<span id="cb95-55"><a href="#cb95-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-56"><a href="#cb95-56" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_yai &lt;- yai(x = x, y = y, method = "randomForest", k = 1, bootstrap = T)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_yai &lt;- yai(x = x, y = y, method = "randomForest", k = 1, bootstrap = T)</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co"># save(rf_yai, file = str_c("RF_26AUG24_1seedlings", ".Rdata"))</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">str_c</span>(<span class="st">"data/RF_26AUG24_1seedlings"</span>, <span class="st">".Rdata"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="eval-2" class="level1">
<h1>Eval 2</h1>
<section id="imputed-1" class="level3">
<h3 class="anchored" data-anchor-id="imputed-1"><em>Imputed</em></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_dia_i &lt;- impute(rf_dia, ancillaryData = y)</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="ot">&lt;-</span> <span class="fu">impute</span>(rf_yai)</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="ot">&lt;-</span> rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">order</span>(<span class="fu">colnames</span>(rf_imp_test))) </span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">ABAM_BA.o</th>
<th style="text-align: right;">ABAM_TD</th>
<th style="text-align: right;">ABAM_TD.o</th>
<th style="text-align: right;">ABGR_BA</th>
<th style="text-align: right;">ABGR_BA.o</th>
<th style="text-align: right;">ABGR_TD</th>
<th style="text-align: right;">ABGR_TD.o</th>
<th style="text-align: right;">ABLA_BA</th>
<th style="text-align: right;">ABLA_BA.o</th>
<th style="text-align: right;">ABLA_TD</th>
<th style="text-align: right;">ABLA_TD.o</th>
<th style="text-align: right;">ABPR_BA</th>
<th style="text-align: right;">ABPR_BA.o</th>
<th style="text-align: right;">ABPR_TD</th>
<th style="text-align: right;">ABPR_TD.o</th>
<th style="text-align: right;">ACGL_BA</th>
<th style="text-align: right;">ACGL_BA.o</th>
<th style="text-align: right;">ACMA3_BA</th>
<th style="text-align: right;">ACMA3_BA.o</th>
<th style="text-align: right;">ALRH2_BA</th>
<th style="text-align: right;">ALRH2_BA.o</th>
<th style="text-align: right;">ALRU2_BA</th>
<th style="text-align: right;">ALRU2_BA.o</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">BAp.o</th>
<th style="text-align: right;">BEPA_BA</th>
<th style="text-align: right;">BEPA_BA.o</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">CC.o</th>
<th style="text-align: right;">CHNO_BA</th>
<th style="text-align: right;">CHNO_BA.o</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">Easting.o</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">ELEV.o</th>
<th style="text-align: left;">f</th>
<th style="text-align: left;">f.o</th>
<th style="text-align: right;">LALY_BA</th>
<th style="text-align: right;">LALY_BA.o</th>
<th style="text-align: right;">LAOC_BA</th>
<th style="text-align: right;">LAOC_BA.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">LAT.o</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">LON.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Northing.o</th>
<th style="text-align: right;">Other_BA</th>
<th style="text-align: right;">Other_BA.o</th>
<th style="text-align: right;">Other_TD</th>
<th style="text-align: right;">Other_TD.o</th>
<th style="text-align: left;">p</th>
<th style="text-align: left;">p.o</th>
<th style="text-align: right;">PIAL_BA</th>
<th style="text-align: right;">PIAL_BA.o</th>
<th style="text-align: right;">PICO_BA</th>
<th style="text-align: right;">PICO_BA.o</th>
<th style="text-align: right;">PIEN_BA</th>
<th style="text-align: right;">PIEN_BA.o</th>
<th style="text-align: right;">PIMO3_BA</th>
<th style="text-align: right;">PIMO3_BA.o</th>
<th style="text-align: right;">PIPO_BA</th>
<th style="text-align: right;">PIPO_BA.o</th>
<th style="text-align: right;">PISI_TD</th>
<th style="text-align: right;">PISI_TD.o</th>
<th style="text-align: right;">POBAT_BA</th>
<th style="text-align: right;">POBAT_BA.o</th>
<th style="text-align: right;">POTR5_BA</th>
<th style="text-align: right;">POTR5_BA.o</th>
<th style="text-align: right;">PREM_BA</th>
<th style="text-align: right;">PREM_BA.o</th>
<th style="text-align: right;">PRVI_BA</th>
<th style="text-align: right;">PRVI_BA.o</th>
<th style="text-align: right;">PSME_BA</th>
<th style="text-align: right;">PSME_BA.o</th>
<th style="text-align: right;">PSME_TD</th>
<th style="text-align: right;">PSME_TD.o</th>
<th style="text-align: right;">rare_TD</th>
<th style="text-align: right;">rare_TD.o</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">SDI.o</th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">SLOPE.o</th>
<th style="text-align: right;">TABR2_BA</th>
<th style="text-align: right;">TABR2_BA.o</th>
<th style="text-align: right;">THPL_BA</th>
<th style="text-align: right;">THPL_BA.o</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: right;">TSHE_BA</th>
<th style="text-align: right;">TSHE_BA.o</th>
<th style="text-align: right;">TSHE_TD</th>
<th style="text-align: right;">TSHE_TD.o</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">TSME_BA.o</th>
<th style="text-align: right;">TSME_TD</th>
<th style="text-align: right;">TSME_TD.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12965856010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.996916</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">22.303190</td>
<td style="text-align: right;">26.236374</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-0.7660444</td>
<td style="text-align: right;">-0.9848078</td>
<td style="text-align: right;">2900</td>
<td style="text-align: right;">2100</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">47.70290</td>
<td style="text-align: right;">47.69902</td>
<td style="text-align: right;">-120.7703</td>
<td style="text-align: right;">-120.7040</td>
<td style="text-align: left;">rare</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">-0.6427876</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.476205</td>
<td style="text-align: right;">26.231543</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.142548</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.678711</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12967289010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.748685</td>
<td style="text-align: right;">9.364950</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">0.6946584</td>
<td style="text-align: right;">3100</td>
<td style="text-align: right;">3100</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: right;">0.9848078</td>
<td style="text-align: right;">0.7193398</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">H</td>
<td style="text-align: left;">H</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">1.104146</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6.276304</td>
<td style="text-align: right;">4.438248</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.363871</td>
<td style="text-align: right;">4.914173</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12967289010497_2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.162873</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.364950</td>
<td style="text-align: right;">5.372851</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.6946584</td>
<td style="text-align: right;">0.6946584</td>
<td style="text-align: right;">3100</td>
<td style="text-align: right;">3100</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0.7193398</td>
<td style="text-align: right;">-0.7193398</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">H</td>
<td style="text-align: left;">H</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.9571019</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4.438248</td>
<td style="text-align: right;">2.240459</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4.914173</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12967289010497_3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.364950</td>
<td style="text-align: right;">9.748685</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.6946584</td>
<td style="text-align: right;">0.1736482</td>
<td style="text-align: right;">3100</td>
<td style="text-align: right;">3100</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">47.89837</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: right;">-120.7647</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0.7193398</td>
<td style="text-align: right;">0.9848078</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">H</td>
<td style="text-align: left;">H</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">1.1041463</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4.438248</td>
<td style="text-align: right;">6.276304</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4.914173</td>
<td style="text-align: right;">2.363871</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12970163010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">14.876005</td>
<td style="text-align: right;">19.628841</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9271839</td>
<td style="text-align: right;">-0.7313537</td>
<td style="text-align: right;">3500</td>
<td style="text-align: right;">3900</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">47.78019</td>
<td style="text-align: right;">48.39609</td>
<td style="text-align: right;">-120.9532</td>
<td style="text-align: right;">-120.8255</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">-0.3746066</td>
<td style="text-align: right;">-0.6819984</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">14.867408</td>
<td style="text-align: right;">19.624198</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970308010497_3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">11.343872</td>
<td style="text-align: right;">11.325912</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-0.2756374</td>
<td style="text-align: right;">-0.8386706</td>
<td style="text-align: right;">7300</td>
<td style="text-align: right;">6300</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">5.259137</td>
<td style="text-align: right;">5.210888</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">48.94595</td>
<td style="text-align: right;">48.52937</td>
<td style="text-align: right;">-120.3765</td>
<td style="text-align: right;">-120.6677</td>
<td style="text-align: left;">rare</td>
<td style="text-align: left;">rare</td>
<td style="text-align: left;">PIAL_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: right;">0.9612617</td>
<td style="text-align: right;">0.5446390</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.599864</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">6.072148</td>
<td style="text-align: right;">3.482131</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">599.72226</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">rownames_to_column</span>(<span class="st">"CN"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(CN <span class="sc">==</span> <span class="st">"40220711010497_1"</span> <span class="sc">|</span> CN <span class="sc">==</span> <span class="st">"40220711010497_2"</span> <span class="sc">|</span> CN <span class="sc">==</span> <span class="st">"40220711010497_3"</span> <span class="sc">|</span> CN <span class="sc">==</span> <span class="st">"40220711010497_4"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">CN</th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">ABAM_BA.o</th>
<th style="text-align: right;">ABAM_TD</th>
<th style="text-align: right;">ABAM_TD.o</th>
<th style="text-align: right;">ABGR_BA</th>
<th style="text-align: right;">ABGR_BA.o</th>
<th style="text-align: right;">ABGR_TD</th>
<th style="text-align: right;">ABGR_TD.o</th>
<th style="text-align: right;">ABLA_BA</th>
<th style="text-align: right;">ABLA_BA.o</th>
<th style="text-align: right;">ABLA_TD</th>
<th style="text-align: right;">ABLA_TD.o</th>
<th style="text-align: right;">ABPR_BA</th>
<th style="text-align: right;">ABPR_BA.o</th>
<th style="text-align: right;">ABPR_TD</th>
<th style="text-align: right;">ABPR_TD.o</th>
<th style="text-align: right;">ACGL_BA</th>
<th style="text-align: right;">ACGL_BA.o</th>
<th style="text-align: right;">ACMA3_BA</th>
<th style="text-align: right;">ACMA3_BA.o</th>
<th style="text-align: right;">ALRH2_BA</th>
<th style="text-align: right;">ALRH2_BA.o</th>
<th style="text-align: right;">ALRU2_BA</th>
<th style="text-align: right;">ALRU2_BA.o</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">BAp.o</th>
<th style="text-align: right;">BEPA_BA</th>
<th style="text-align: right;">BEPA_BA.o</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">CC.o</th>
<th style="text-align: right;">CHNO_BA</th>
<th style="text-align: right;">CHNO_BA.o</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">Easting.o</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">ELEV.o</th>
<th style="text-align: left;">f</th>
<th style="text-align: left;">f.o</th>
<th style="text-align: right;">LALY_BA</th>
<th style="text-align: right;">LALY_BA.o</th>
<th style="text-align: right;">LAOC_BA</th>
<th style="text-align: right;">LAOC_BA.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">LAT.o</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">LON.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">Northing.o</th>
<th style="text-align: right;">Other_BA</th>
<th style="text-align: right;">Other_BA.o</th>
<th style="text-align: right;">Other_TD</th>
<th style="text-align: right;">Other_TD.o</th>
<th style="text-align: left;">p</th>
<th style="text-align: left;">p.o</th>
<th style="text-align: right;">PIAL_BA</th>
<th style="text-align: right;">PIAL_BA.o</th>
<th style="text-align: right;">PICO_BA</th>
<th style="text-align: right;">PICO_BA.o</th>
<th style="text-align: right;">PIEN_BA</th>
<th style="text-align: right;">PIEN_BA.o</th>
<th style="text-align: right;">PIMO3_BA</th>
<th style="text-align: right;">PIMO3_BA.o</th>
<th style="text-align: right;">PIPO_BA</th>
<th style="text-align: right;">PIPO_BA.o</th>
<th style="text-align: right;">PISI_TD</th>
<th style="text-align: right;">PISI_TD.o</th>
<th style="text-align: right;">POBAT_BA</th>
<th style="text-align: right;">POBAT_BA.o</th>
<th style="text-align: right;">POTR5_BA</th>
<th style="text-align: right;">POTR5_BA.o</th>
<th style="text-align: right;">PREM_BA</th>
<th style="text-align: right;">PREM_BA.o</th>
<th style="text-align: right;">PRVI_BA</th>
<th style="text-align: right;">PRVI_BA.o</th>
<th style="text-align: right;">PSME_BA</th>
<th style="text-align: right;">PSME_BA.o</th>
<th style="text-align: right;">PSME_TD</th>
<th style="text-align: right;">PSME_TD.o</th>
<th style="text-align: right;">rare_TD</th>
<th style="text-align: right;">rare_TD.o</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">SDI.o</th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">SLOPE.o</th>
<th style="text-align: right;">TABR2_BA</th>
<th style="text-align: right;">TABR2_BA.o</th>
<th style="text-align: right;">THPL_BA</th>
<th style="text-align: right;">THPL_BA.o</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: right;">TSHE_BA</th>
<th style="text-align: right;">TSHE_BA.o</th>
<th style="text-align: right;">TSHE_TD</th>
<th style="text-align: right;">TSHE_TD.o</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">TSME_BA.o</th>
<th style="text-align: right;">TSME_TD</th>
<th style="text-align: right;">TSME_TD.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">40220711010497_1</td>
<td style="text-align: right;">3.216926</td>
<td style="text-align: right;">3.944851</td>
<td style="text-align: right;">1499.306</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">24.21864</td>
<td style="text-align: right;">23.67943</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9945219</td>
<td style="text-align: right;">0.9396926</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">3900</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1499.306</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">299.8611</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0.1045285</td>
<td style="text-align: right;">-0.3420201</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1799.167</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13.99634</td>
<td style="text-align: right;">19.33731</td>
<td style="text-align: right;">299.8611</td>
<td style="text-align: right;">0.00000</td>
</tr>
<tr class="even">
<td style="text-align: left;">40220711010497_2</td>
<td style="text-align: right;">3.944851</td>
<td style="text-align: right;">6.370049</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2473.854</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">23.67943</td>
<td style="text-align: right;">28.00302</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9396926</td>
<td style="text-align: right;">-0.8660254</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">3900</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2473.854</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">-0.3420201</td>
<td style="text-align: right;">0.5000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2548.820</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">19.33731</td>
<td style="text-align: right;">21.49316</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
</tr>
<tr class="odd">
<td style="text-align: left;">40220711010497_3</td>
<td style="text-align: right;">3.944851</td>
<td style="text-align: right;">3.216926</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">1499.306</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">23.67943</td>
<td style="text-align: right;">24.21864</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9396926</td>
<td style="text-align: right;">0.9945219</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">3900</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">1499.306</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">299.86113</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">-0.3420201</td>
<td style="text-align: right;">0.1045285</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">1799.167</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">19.33731</td>
<td style="text-align: right;">13.99634</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">299.86113</td>
</tr>
<tr class="even">
<td style="text-align: left;">40220711010497_4</td>
<td style="text-align: right;">3.944851</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2323.924</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">23.67943</td>
<td style="text-align: right;">34.47790</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9396926</td>
<td style="text-align: right;">0.7660444</td>
<td style="text-align: right;">3900</td>
<td style="text-align: right;">3900</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2323.924</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">48.60184</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: right;">-121.588</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">-0.3420201</td>
<td style="text-align: right;">0.6427876</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">129</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2323.924</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">19.33731</td>
<td style="text-align: right;">34.35017</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The first time through:</p>
<p>Subplot 1 was not imputed; it is only a reference subplot. Subplots 2, 3, &amp; 4 had observed and imputed values. Even though 2, 3, &amp; 4 had ABAM BA originally, it was overwritten in imputation as the same as 1. Only 1 had ABAM TD observed, the others were imputed, but all had ABAM BA observed in the predictors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>rf_td_preds_eval <span class="ot">&lt;-</span> <span class="fu">yaiRFsummary</span>(rf_yai)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="oobe-1" class="level3">
<h3 class="anchored" data-anchor-id="oobe-1"><em>OOBe</em></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>rf_td_preds_eval<span class="sc">$</span>forestAttributes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ntree</th>
<th style="text-align: right;">error</th>
<th style="text-align: left;">errtag</th>
<th style="text-align: right;">levels</th>
<th style="text-align: left;">type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">max_spp1</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.1241656</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">max_spp2</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.1615487</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0233645</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0246996</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0040053</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0066756</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0333778</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">TSHE_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0120160</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABPR_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PISI_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">largest_1</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0267023</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">largest_2</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0193591</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0393858</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">classification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">rare_TD</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.0033378</td>
<td style="text-align: left;">OOB error rate</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">classification</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="importance-1" class="level3">
<h3 class="anchored" data-anchor-id="importance-1"><em>Importance</em></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>importance <span class="ot">&lt;-</span> rf_td_preds_eval<span class="sc">$</span>scaledImportance</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>importance <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">SLOPE</th>
<th style="text-align: right;">LAT</th>
<th style="text-align: right;">SDI</th>
<th style="text-align: right;">Easting</th>
<th style="text-align: right;">LON</th>
<th style="text-align: right;">BAp</th>
<th style="text-align: right;">CC</th>
<th style="text-align: right;">Northing</th>
<th style="text-align: right;">ELEV</th>
<th style="text-align: right;">PSME_BA</th>
<th style="text-align: right;">ABAM_BA</th>
<th style="text-align: right;">TSHE_BA</th>
<th style="text-align: right;">p</th>
<th style="text-align: right;">TSME_BA</th>
<th style="text-align: right;">THPL_BA</th>
<th style="text-align: right;">ABLA_BA</th>
<th style="text-align: right;">PIEN_BA</th>
<th style="text-align: right;">ABGR_BA</th>
<th style="text-align: right;">PICO_BA</th>
<th style="text-align: right;">PIPO_BA</th>
<th style="text-align: right;">CHNO_BA</th>
<th style="text-align: right;">PIMO3_BA</th>
<th style="text-align: right;">LAOC_BA</th>
<th style="text-align: right;">LALY_BA</th>
<th style="text-align: right;">PIAL_BA</th>
<th style="text-align: right;">ABPR_BA</th>
<th style="text-align: right;">ALRU2_BA</th>
<th style="text-align: right;">TABR2_BA</th>
<th style="text-align: right;">POBAT_BA</th>
<th style="text-align: right;">PREM_BA</th>
<th style="text-align: right;">POTR5_BA</th>
<th style="text-align: right;">ACGL_BA</th>
<th style="text-align: right;">f</th>
<th style="text-align: right;">BEPA_BA</th>
<th style="text-align: right;">ACMA3_BA</th>
<th style="text-align: right;">Other_BA</th>
<th style="text-align: right;">ALRH2_BA</th>
<th style="text-align: right;">PRVI_BA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">max_spp1</td>
<td style="text-align: right;">1.405115</td>
<td style="text-align: right;">1.747054</td>
<td style="text-align: right;">0.6428509</td>
<td style="text-align: right;">1.4102619</td>
<td style="text-align: right;">1.2236812</td>
<td style="text-align: right;">0.8416780</td>
<td style="text-align: right;">0.6838246</td>
<td style="text-align: right;">1.0655791</td>
<td style="text-align: right;">1.6142553</td>
<td style="text-align: right;">1.1509063</td>
<td style="text-align: right;">1.3588834</td>
<td style="text-align: right;">0.3737203</td>
<td style="text-align: right;">0.9787710</td>
<td style="text-align: right;">0.2692287</td>
<td style="text-align: right;">0.1668915</td>
<td style="text-align: right;">1.4896335</td>
<td style="text-align: right;">-0.2061890</td>
<td style="text-align: right;">0.4537487</td>
<td style="text-align: right;">-0.4635773</td>
<td style="text-align: right;">-0.2040990</td>
<td style="text-align: right;">-0.1637114</td>
<td style="text-align: right;">-0.4208493</td>
<td style="text-align: right;">-0.6332497</td>
<td style="text-align: right;">-0.8309354</td>
<td style="text-align: right;">-0.8945041</td>
<td style="text-align: right;">-0.8088682</td>
<td style="text-align: right;">-0.6477791</td>
<td style="text-align: right;">-0.7591997</td>
<td style="text-align: right;">-0.7960836</td>
<td style="text-align: right;">-0.6080529</td>
<td style="text-align: right;">-0.7998467</td>
<td style="text-align: right;">-1.1309809</td>
<td style="text-align: right;">-1.2513593</td>
<td style="text-align: right;">-1.2513593</td>
<td style="text-align: right;">-1.2513593</td>
<td style="text-align: right;">-1.2513593</td>
<td style="text-align: right;">-1.2513593</td>
<td style="text-align: right;">-1.2513593</td>
</tr>
<tr class="even">
<td style="text-align: left;">max_spp2</td>
<td style="text-align: right;">1.835731</td>
<td style="text-align: right;">1.297080</td>
<td style="text-align: right;">1.1508740</td>
<td style="text-align: right;">1.6631763</td>
<td style="text-align: right;">1.4539193</td>
<td style="text-align: right;">0.9833083</td>
<td style="text-align: right;">0.7884889</td>
<td style="text-align: right;">1.4477269</td>
<td style="text-align: right;">1.2856381</td>
<td style="text-align: right;">0.4545049</td>
<td style="text-align: right;">0.9129743</td>
<td style="text-align: right;">0.7140084</td>
<td style="text-align: right;">1.2154959</td>
<td style="text-align: right;">0.6252631</td>
<td style="text-align: right;">-0.0092010</td>
<td style="text-align: right;">-0.0228545</td>
<td style="text-align: right;">0.1687197</td>
<td style="text-align: right;">-0.3182144</td>
<td style="text-align: right;">0.4895389</td>
<td style="text-align: right;">-0.4932420</td>
<td style="text-align: right;">-0.3629684</td>
<td style="text-align: right;">-0.2753041</td>
<td style="text-align: right;">-0.2972836</td>
<td style="text-align: right;">-0.2721185</td>
<td style="text-align: right;">-0.3197199</td>
<td style="text-align: right;">-0.8224405</td>
<td style="text-align: right;">-0.7405253</td>
<td style="text-align: right;">-0.9255135</td>
<td style="text-align: right;">-0.8167160</td>
<td style="text-align: right;">-1.1192308</td>
<td style="text-align: right;">-0.9873722</td>
<td style="text-align: right;">-1.2296572</td>
<td style="text-align: right;">-1.2272740</td>
<td style="text-align: right;">-1.2272740</td>
<td style="text-align: right;">-1.5056306</td>
<td style="text-align: right;">-1.2272740</td>
<td style="text-align: right;">-1.2272740</td>
<td style="text-align: right;">-1.0593593</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: right;">1.389752</td>
<td style="text-align: right;">1.834470</td>
<td style="text-align: right;">1.9365578</td>
<td style="text-align: right;">1.1572061</td>
<td style="text-align: right;">1.3402413</td>
<td style="text-align: right;">1.0728803</td>
<td style="text-align: right;">0.6024630</td>
<td style="text-align: right;">1.2025463</td>
<td style="text-align: right;">0.9623825</td>
<td style="text-align: right;">0.7799793</td>
<td style="text-align: right;">0.1576522</td>
<td style="text-align: right;">-0.4574446</td>
<td style="text-align: right;">0.6787087</td>
<td style="text-align: right;">0.2044537</td>
<td style="text-align: right;">-0.7269051</td>
<td style="text-align: right;">1.5834713</td>
<td style="text-align: right;">0.4803777</td>
<td style="text-align: right;">-0.2038841</td>
<td style="text-align: right;">0.2212944</td>
<td style="text-align: right;">-0.1226923</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-0.7269051</td>
<td style="text-align: right;">0.4190584</td>
<td style="text-align: right;">0.6613264</td>
<td style="text-align: right;">0.0767401</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
<td style="text-align: right;">-1.0374093</td>
</tr>
<tr class="even">
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">1.659555</td>
<td style="text-align: right;">1.222266</td>
<td style="text-align: right;">0.5697679</td>
<td style="text-align: right;">1.0563217</td>
<td style="text-align: right;">1.7395206</td>
<td style="text-align: right;">1.4208155</td>
<td style="text-align: right;">1.2493577</td>
<td style="text-align: right;">0.7207791</td>
<td style="text-align: right;">1.3818696</td>
<td style="text-align: right;">-0.0174130</td>
<td style="text-align: right;">1.1117054</td>
<td style="text-align: right;">0.3421082</td>
<td style="text-align: right;">1.5106427</td>
<td style="text-align: right;">1.7718327</td>
<td style="text-align: right;">-0.5790310</td>
<td style="text-align: right;">0.6787655</td>
<td style="text-align: right;">0.0268116</td>
<td style="text-align: right;">-1.2058020</td>
<td style="text-align: right;">-0.6464294</td>
<td style="text-align: right;">-1.2693452</td>
<td style="text-align: right;">-0.1435228</td>
<td style="text-align: right;">-0.3741876</td>
<td style="text-align: right;">-0.5699691</td>
<td style="text-align: right;">-0.5699691</td>
<td style="text-align: right;">0.3363536</td>
<td style="text-align: right;">-0.3869183</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
<td style="text-align: right;">-0.9196571</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: right;">1.592628</td>
<td style="text-align: right;">1.952242</td>
<td style="text-align: right;">1.4256150</td>
<td style="text-align: right;">1.2060608</td>
<td style="text-align: right;">0.7777062</td>
<td style="text-align: right;">1.1642080</td>
<td style="text-align: right;">1.7633487</td>
<td style="text-align: right;">1.1516887</td>
<td style="text-align: right;">0.7818979</td>
<td style="text-align: right;">0.9355246</td>
<td style="text-align: right;">-1.5759322</td>
<td style="text-align: right;">-0.0064578</td>
<td style="text-align: right;">1.5346430</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">0.3723365</td>
<td style="text-align: right;">0.0730698</td>
<td style="text-align: right;">1.3608168</td>
<td style="text-align: right;">0.4290148</td>
<td style="text-align: right;">0.5375321</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
<td style="text-align: right;">-0.7737971</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: right;">1.491836</td>
<td style="text-align: right;">1.599211</td>
<td style="text-align: right;">1.2150595</td>
<td style="text-align: right;">0.8744407</td>
<td style="text-align: right;">0.6828762</td>
<td style="text-align: right;">1.1625149</td>
<td style="text-align: right;">0.5142551</td>
<td style="text-align: right;">0.8384013</td>
<td style="text-align: right;">0.9150211</td>
<td style="text-align: right;">1.1402751</td>
<td style="text-align: right;">-0.1412738</td>
<td style="text-align: right;">0.1330702</td>
<td style="text-align: right;">1.0416992</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">0.2033846</td>
<td style="text-align: right;">-0.0841804</td>
<td style="text-align: right;">-0.2583894</td>
<td style="text-align: right;">2.5114203</td>
<td style="text-align: right;">0.8126032</td>
<td style="text-align: right;">0.4777775</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">0.8268962</td>
<td style="text-align: right;">0.1834621</td>
<td style="text-align: right;">-1.4869523</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.4119136</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
<td style="text-align: right;">-0.9494330</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="rmsd-1" class="level3">
<h3 class="anchored" data-anchor-id="rmsd-1"><em>RMSD</em></h3>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>rd <span class="ot">&lt;-</span> <span class="fu">rmsd</span>(rf_imp_test) <span class="sc">|&gt;</span> </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">|&gt;</span> </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"CN"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>rd[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>rd[<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>,]</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>rd[<span class="dv">21</span><span class="sc">:</span><span class="dv">30</span>,]</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>rd[<span class="dv">31</span><span class="sc">:</span><span class="dv">40</span>,]</span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>rd[<span class="dv">41</span><span class="sc">:</span><span class="dv">49</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="5">
<div class="quarto-layout-row">
<div class="kable-table quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">CN</th>
<th style="text-align: right;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ABAM_BA</td>
<td style="text-align: right;">12.7362361</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: right;">802.0697189</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABGR_BA</td>
<td style="text-align: right;">3.1567630</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: right;">621.9585753</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABLA_BA</td>
<td style="text-align: right;">7.1804339</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: right;">296.3432299</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ABPR_BA</td>
<td style="text-align: right;">2.0758110</td>
</tr>
<tr class="even">
<td style="text-align: left;">ABPR_TD</td>
<td style="text-align: right;">12.6714455</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ACGL_BA</td>
<td style="text-align: right;">1.2756548</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACMA3_BA</td>
<td style="text-align: right;">0.8369106</td>
</tr>
</tbody>
</table>
</div>
<div class="kable-table quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">CN</th>
<th style="text-align: right;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">ALRH2_BA</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">ALRU2_BA</td>
<td style="text-align: right;">2.0308968</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">BAp</td>
<td style="text-align: right;">18.1994935</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">BEPA_BA</td>
<td style="text-align: right;">0.1131698</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">CC</td>
<td style="text-align: right;">9.8308915</td>
</tr>
<tr class="even">
<td style="text-align: left;">16</td>
<td style="text-align: left;">CHNO_BA</td>
<td style="text-align: right;">6.2969611</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17</td>
<td style="text-align: left;">Easting</td>
<td style="text-align: right;">0.5858636</td>
</tr>
<tr class="even">
<td style="text-align: left;">18</td>
<td style="text-align: left;">ELEV</td>
<td style="text-align: right;">490.7719866</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: left;">LALY_BA</td>
<td style="text-align: right;">1.3916623</td>
</tr>
<tr class="even">
<td style="text-align: left;">20</td>
<td style="text-align: left;">LAOC_BA</td>
<td style="text-align: right;">2.0031728</td>
</tr>
</tbody>
</table>
</div>
<div class="kable-table quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">CN</th>
<th style="text-align: right;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">21</td>
<td style="text-align: left;">largest_1</td>
<td style="text-align: right;">1431.4492601</td>
</tr>
<tr class="even">
<td style="text-align: left;">22</td>
<td style="text-align: left;">largest_2</td>
<td style="text-align: right;">350.4319120</td>
</tr>
<tr class="odd">
<td style="text-align: left;">23</td>
<td style="text-align: left;">LAT</td>
<td style="text-align: right;">0.2526683</td>
</tr>
<tr class="even">
<td style="text-align: left;">24</td>
<td style="text-align: left;">LON</td>
<td style="text-align: right;">0.2002237</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">Northing</td>
<td style="text-align: right;">0.5672806</td>
</tr>
<tr class="even">
<td style="text-align: left;">26</td>
<td style="text-align: left;">Other_BA</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">27</td>
<td style="text-align: left;">Other_TD</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">28</td>
<td style="text-align: left;">PIAL_BA</td>
<td style="text-align: right;">1.6679988</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">PICO_BA</td>
<td style="text-align: right;">4.3384538</td>
</tr>
<tr class="even">
<td style="text-align: left;">30</td>
<td style="text-align: left;">PIEN_BA</td>
<td style="text-align: right;">5.0559256</td>
</tr>
</tbody>
</table>
</div>
<div class="kable-table quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">CN</th>
<th style="text-align: right;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">31</td>
<td style="text-align: left;">PIMO3_BA</td>
<td style="text-align: right;">1.0838143</td>
</tr>
<tr class="even">
<td style="text-align: left;">32</td>
<td style="text-align: left;">PIPO_BA</td>
<td style="text-align: right;">3.4078965</td>
</tr>
<tr class="odd">
<td style="text-align: left;">33</td>
<td style="text-align: left;">PISI_TD</td>
<td style="text-align: right;">3.1678614</td>
</tr>
<tr class="even">
<td style="text-align: left;">34</td>
<td style="text-align: left;">POBAT_BA</td>
<td style="text-align: right;">1.2940387</td>
</tr>
<tr class="odd">
<td style="text-align: left;">35</td>
<td style="text-align: left;">POTR5_BA</td>
<td style="text-align: right;">2.3385769</td>
</tr>
<tr class="even">
<td style="text-align: left;">36</td>
<td style="text-align: left;">PREM_BA</td>
<td style="text-align: right;">0.1059853</td>
</tr>
<tr class="odd">
<td style="text-align: left;">37</td>
<td style="text-align: left;">PRVI_BA</td>
<td style="text-align: right;">0.0587436</td>
</tr>
<tr class="even">
<td style="text-align: left;">38</td>
<td style="text-align: left;">PSME_BA</td>
<td style="text-align: right;">7.8784623</td>
</tr>
<tr class="odd">
<td style="text-align: left;">39</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: right;">655.1348707</td>
</tr>
<tr class="even">
<td style="text-align: left;">40</td>
<td style="text-align: left;">rare_TD</td>
<td style="text-align: right;">754.7226113</td>
</tr>
</tbody>
</table>
</div>
<div class="kable-table quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">CN</th>
<th style="text-align: right;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">41</td>
<td style="text-align: left;">SDI</td>
<td style="text-align: right;">39.1559382</td>
</tr>
<tr class="even">
<td style="text-align: left;">42</td>
<td style="text-align: left;">SLOPE</td>
<td style="text-align: right;">16.4241764</td>
</tr>
<tr class="odd">
<td style="text-align: left;">43</td>
<td style="text-align: left;">TABR2_BA</td>
<td style="text-align: right;">0.5778275</td>
</tr>
<tr class="even">
<td style="text-align: left;">44</td>
<td style="text-align: left;">THPL_BA</td>
<td style="text-align: right;">8.8313535</td>
</tr>
<tr class="odd">
<td style="text-align: left;">45</td>
<td style="text-align: left;">total_TD</td>
<td style="text-align: right;">1626.3505334</td>
</tr>
<tr class="even">
<td style="text-align: left;">46</td>
<td style="text-align: left;">TSHE_BA</td>
<td style="text-align: right;">10.5624484</td>
</tr>
<tr class="odd">
<td style="text-align: left;">47</td>
<td style="text-align: left;">TSHE_TD</td>
<td style="text-align: right;">586.6961363</td>
</tr>
<tr class="even">
<td style="text-align: left;">48</td>
<td style="text-align: left;">TSME_BA</td>
<td style="text-align: right;">7.3288825</td>
</tr>
<tr class="odd">
<td style="text-align: left;">49</td>
<td style="text-align: left;">TSME_TD</td>
<td style="text-align: right;">143.3960365</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>NAs above were categorical variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> <span class="fu">names</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] CC       SDI      LAT      LON      ELEV     Northing Easting  SLOPE    BAp      f        p        PIPO_BA  PSME_BA  ABAM_BA  TSME_BA  ABGR_BA  PICO_BA  LALY_BA  PIAL_BA  PIEN_BA  ABLA_BA  LAOC_BA  THPL_BA  ALRU2_BA TSHE_BA  TABR2_BA CHNO_BA  POBAT_BA ABPR_BA  BEPA_BA  PREM_BA  POTR5_BA PIMO3_BA ACGL_BA  ACMA3_BA Other_BA ALRH2_BA PRVI_BA </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">|&gt;</span> <span class="fu">names</span>() <span class="sc">|&gt;</span> <span class="fu">noquote</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] max_spp1  max_spp2  ABLA_TD   TSME_TD   PSME_TD   ABGR_TD   ABAM_TD   TSHE_TD   ABPR_TD   Other_TD  PISI_TD   largest_1 largest_2 total_TD  rare_TD  </code></pre>
</div>
</div>
</section>
<section id="ancillary-data-1" class="level2">
<h2 class="anchored" data-anchor-id="ancillary-data-1">Ancillary data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_above0</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_ancil <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp1 =</span> <span class="fu">factor</span>(max_spp1), </span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_spp2 =</span> <span class="fu">factor</span>(max_spp2)</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(max_spp3, largest_3))</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_ancil <span class="sc">|&gt;</span> <span class="fu">column_to_rownames</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>y_ancil <span class="ot">&lt;-</span> y_ancil <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a>rf_imp_ancillary <span class="ot">&lt;-</span> <span class="fu">impute</span>(rf_yai, <span class="at">ancillaryData =</span> y_ancil) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>()</span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a>y_ancillary_imp <span class="ot">&lt;-</span> rf_imp_ancillary <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">order</span>(<span class="fu">colnames</span>(rf_imp_ancillary))) </span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a>y_ancillary_imp <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ABAM_TD</th>
<th style="text-align: right;">ABAM_TD.o</th>
<th style="text-align: right;">ABGR_TD</th>
<th style="text-align: right;">ABGR_TD.o</th>
<th style="text-align: right;">ABLA_TD</th>
<th style="text-align: right;">ABLA_TD.o</th>
<th style="text-align: right;">ABPR_TD</th>
<th style="text-align: right;">ABPR_TD.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: right;">largest_2.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">Other_TD</th>
<th style="text-align: right;">Other_TD.o</th>
<th style="text-align: right;">PISI_TD</th>
<th style="text-align: right;">PISI_TD.o</th>
<th style="text-align: right;">PSME_TD</th>
<th style="text-align: right;">PSME_TD.o</th>
<th style="text-align: right;">rare_TD</th>
<th style="text-align: right;">rare_TD.o</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: right;">TSHE_TD</th>
<th style="text-align: right;">TSHE_TD.o</th>
<th style="text-align: right;">TSME_TD</th>
<th style="text-align: right;">TSME_TD.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12965856010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">POTR5_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12967289010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12967289010497_2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12967289010497_3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">ABGR_TD</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12970163010497_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970308010497_3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: left;">LALY_TD</td>
<td style="text-align: left;">PIAL_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">524.75698</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">599.72226</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>y_ancillary_imp <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1106</code></pre>
</div>
</div>
<p><em>Just looking at an example to see what is imputed where</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>y_ancillary_imp <span class="sc">|&gt;</span> </span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"sCN"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CN =</span> <span class="fu">str_sub</span>(sCN, <span class="dv">1</span>, <span class="dv">15</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CN <span class="sc">==</span> <span class="st">"13199766010497_"</span>) <span class="sc">%&gt;%</span> <span class="fu">select_if</span>(<span class="sc">~</span> <span class="sc">!</span><span class="fu">is.numeric</span>(.) <span class="sc">||</span> <span class="fu">sum</span>(.) <span class="sc">!=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 10%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sCN</th>
<th style="text-align: right;">ABAM_TD</th>
<th style="text-align: right;">ABAM_TD.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: right;">largest_2</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">PSME_TD</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
<th style="text-align: right;">TSHE_TD</th>
<th style="text-align: left;">CN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">13199766010497_1</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">13199766010497_</td>
</tr>
<tr class="even">
<td style="text-align: left;">13199766010497_2</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">PSME_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">TSHE_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">449.79170</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">13199766010497_</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13199766010497_3</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">1274.40980</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">1274.40980</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">1274.40980</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">13199766010497_</td>
</tr>
<tr class="even">
<td style="text-align: left;">13199766010497_4</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">1124.47924</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: right;">1124.47924</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">1124.47924</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: left;">13199766010497_</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>It looks like subplots 1, 3, &amp; 4 were all imputed to the same stand. The imputed values are all the same for this set, except subplot 2.</p>
<section id="checking-rmsd" class="level4">
<h4 class="anchored" data-anchor-id="checking-rmsd">Checking RMSD</h4>
<p><strong>RMSD is calculated from the data that does not contain NAs.</strong></p>
<p>The ancillary data was added to the yai object, and a new imputation was performed on the old prediction tree. The resulting dataframe uses the same distance measures from the original yai run, but contains the y data that we are actually interested in.</p>
<p>The replicates and bootstrap variables that were left out in the original run (and therefore the ancillary imputation) come out as NAs in the imputed data. For each variable, if it was used in the trees that best predicted that subplot as being in the same terminal node(bucket) as itself, it comes out as a value in the imputed data. If not, it comes out as an NA.</p>
<p>The RMSD of each variable is calculated from the full list of observed and imputed values for that variable. In the example case, there were ~1106 rows of subplots and bootstrap replicates that contained values and ~900 where that variable was left out of the tree.</p>
<p>The RMSD for this variable was calcuted on the 1106 rows that contained values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting the first and second columns, ABAM imputed and observed</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> y_ancillary_imp[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding the squared difference</span></span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> t <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">sq_dev =</span> (ABAM_TD <span class="sc">-</span> ABAM_TD.o)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Root Meaning the squared difference</span></span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">mean</span>(t<span class="sc">$</span>sq_dev))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 819.4351</code></pre>
</div>
</div>
<p><em>Pulling the RMSD from the yaImpute</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> <span class="fu">rmsd</span>(rf_imp_ancillary) <span class="sc">|&gt;</span> <span class="fu">rownames_to_column</span>(<span class="st">"spp"</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>t3 <span class="sc">|&gt;</span> <span class="fu">filter</span>(spp <span class="sc">==</span> <span class="st">"ABAM_TD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">spp</th>
<th style="text-align: right;">rmsd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ABAM_TD</td>
<td style="text-align: right;">819.4351</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>Pulling an example</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>t  <span class="sc">|&gt;</span> <span class="fu">rownames_to_column</span>(<span class="st">"CN"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(CN, <span class="st">"^40220711010497"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">CN</th>
<th style="text-align: right;">ABAM_TD</th>
<th style="text-align: right;">ABAM_TD.o</th>
<th style="text-align: right;">sq_dev</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">40220711010497_1</td>
<td style="text-align: right;">1499.306</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">33319756</td>
</tr>
<tr class="even">
<td style="text-align: left;">40220711010497_2</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2473.854</td>
<td style="text-align: right;">23018674</td>
</tr>
<tr class="odd">
<td style="text-align: left;">40220711010497_3</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">1499.306</td>
<td style="text-align: right;">33319756</td>
</tr>
<tr class="even">
<td style="text-align: left;">40220711010497_4</td>
<td style="text-align: right;">7271.632</td>
<td style="text-align: right;">2323.924</td>
<td style="text-align: right;">24479821</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Subplots 2, 3, &amp; 4 were all imputed from 1 at 1’s observed value. 1 was imputed from somewhere else.</p>
<p><em>Looking at the CNs used to impute to each plot, (I think)</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">foruse</span>(rf_yai, <span class="at">kth =</span> <span class="dv">1</span>, <span class="at">targetsOnly =</span> T)</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> t <span class="sc">|&gt;</span> <span class="fu">rownames_to_column</span>(<span class="st">"CN"</span>) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">CN =</span> t<span class="sc">$</span>CN, </span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">use =</span> t<span class="sc">$</span>use,</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">dist =</span> t<span class="sc">$</span>dist)</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>t3 <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">CN</th>
<th style="text-align: left;">use</th>
<th style="text-align: right;">dist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">12965290010497_2</td>
<td style="text-align: left;">24155367010900_2</td>
<td style="text-align: right;">0.2853333</td>
</tr>
<tr class="even">
<td style="text-align: left;">12965572010497_4</td>
<td style="text-align: left;">22954580010497_3</td>
<td style="text-align: right;">0.4693333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12965856010497_4</td>
<td style="text-align: left;">22398195010497_4</td>
<td style="text-align: right;">0.2320000</td>
</tr>
<tr class="even">
<td style="text-align: left;">12966246010497_1</td>
<td style="text-align: left;">174763517020004_2</td>
<td style="text-align: right;">0.2640000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12969073010497_1</td>
<td style="text-align: left;">29883211010497_3</td>
<td style="text-align: right;">0.2773333</td>
</tr>
<tr class="even">
<td style="text-align: left;">12970308010497_2</td>
<td style="text-align: left;">22827625010497_2</td>
<td style="text-align: right;">0.1946667</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> y_ancillary_imp <span class="sc">|&gt;</span> </span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"CN"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CN <span class="sc">==</span> <span class="st">"24155367010900_2"</span> <span class="sc">|</span> CN <span class="sc">==</span> <span class="st">"12965290010497_2"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(<span class="sc">~</span> <span class="sc">!</span><span class="fu">is.numeric</span>(.) <span class="sc">||</span> <span class="fu">sum</span>(.) <span class="sc">!=</span> <span class="dv">0</span>) </span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Used"</span>, <span class="st">"Imputed"</span>)</span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(b,a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 5%">
<col style="width: 11%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">b</th>
<th style="text-align: left;">CN</th>
<th style="text-align: right;">ABLA_TD</th>
<th style="text-align: right;">ABLA_TD.o</th>
<th style="text-align: right;">largest_1</th>
<th style="text-align: right;">largest_1.o</th>
<th style="text-align: left;">max_spp1</th>
<th style="text-align: left;">max_spp1.o</th>
<th style="text-align: left;">max_spp2</th>
<th style="text-align: left;">max_spp2.o</th>
<th style="text-align: right;">rare_TD</th>
<th style="text-align: right;">rare_TD.o</th>
<th style="text-align: right;">total_TD</th>
<th style="text-align: right;">total_TD.o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Used</td>
<td style="text-align: left;">24155367010900_2</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: left;">PREM_TD</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
</tr>
<tr class="even">
<td style="text-align: left;">Imputed</td>
<td style="text-align: left;">12965290010497_2</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
<td style="text-align: left;">ABLA_TD</td>
<td style="text-align: left;">PIPO_TD</td>
<td style="text-align: left;">zero</td>
<td style="text-align: left;">zero</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">149.9306</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">149.93057</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>I think that yaImpute is using the standplot_cns in the terminal buckets. That would mean that the margin function is determining the if each tree is correct by whether or not the proportion of of each bucket that is the correct CN is larger than the proportion of the largest incorrect CN.</p>
<p>These appear to be the out of bag stands used for OOBe.</p>
<p>I am not sure if yaImpute is using the TDs from all species for each selected nearest neighbor stand, or if they are being recomputed for each species, but it seems like the former.</p>
<p>There also appears to be something going on with the stands that are not being used to impute. In the table above, the Used row has imputed values. These pseudo imputations remind me of something I read in the documentation, but I can’t remember the specifics right now.</p>
</section>
<section id="var-importance-1" class="level3">
<h3 class="anchored" data-anchor-id="var-importance-1">Var importance</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> <span class="fu">names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "CC"       "SDI"      "LAT"      "LON"      "ELEV"     "Northing" "Easting"  "SLOPE"    "BAp"      "f"        "p"        "PIPO_BA"  "PSME_BA"  "ABAM_BA"  "TSME_BA"  "ABGR_BA"  "PICO_BA"  "LALY_BA"  "PIAL_BA"  "PIEN_BA"  "ABLA_BA"  "LAOC_BA"  "THPL_BA"  "ALRU2_BA" "TSHE_BA"  "TABR2_BA" "CHNO_BA"  "POBAT_BA" "ABPR_BA"  "BEPA_BA"  "PREM_BA"  "POTR5_BA" "PIMO3_BA" "ACGL_BA"  "ACMA3_BA" "Other_BA" "ALRH2_BA" "PRVI_BA" </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yaiVarImp</span>(rf_yai)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-83-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="aug24" class="level1">
<h1><strong>27AUG24</strong></h1>
<p>I went up and fixed the code, so that it would knit, then added the factor eval and clarified the code for readability. Then I looked at the way yaImpute is probably imputing all variables from one CN to another. It may be better for us to use prediction rather than imputation.</p>
</section>
<section id="factor-proportions-1" class="level1">
<h1>Factor Proportions</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>max_1 <span class="ot">&lt;-</span> rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span> </span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">equal =</span> <span class="fu">ifelse</span>(max_spp1 <span class="sc">==</span> max_spp1.o, T, F)</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>max_1<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8811749</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> (max_1<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1188251</code></pre>
</div>
</div>
<p>OOBe from above, 0.1241656</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>max_2 <span class="ot">&lt;-</span> rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">equal =</span> <span class="fu">ifelse</span>(max_spp2 <span class="sc">==</span> max_spp2.o, T, F)</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>max_2<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8170895</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> (max_2<span class="sc">$</span>equal <span class="sc">|&gt;</span> <span class="fu">mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1829105</code></pre>
</div>
</div>
<p>OOBe from above, 0.1615487</p>
<p><strong>As before, these proportions are a little higher than the OOBe</strong></p>
<section id="heat-maps-1" class="level2">
<h2 class="anchored" data-anchor-id="heat-maps-1">Heat maps</h2>
<section id="max-spp-1-1" class="level3">
<h3 class="anchored" data-anchor-id="max-spp-1-1">Max spp 1</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span> </span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp1 =</span>  <span class="fu">as.character</span>(max_spp1), </span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp1.o =</span>  <span class="fu">as.character</span>(max_spp1.o),</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">num =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(num),</span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(max_spp1, max_spp1.o) <span class="sc">|&gt;</span> </span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> max_spp1, <span class="at">y =</span> max_spp1.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># aes(x = max_spp1, y = max_spp1.o, fill = max_spp1.o) +</span></span>
<span id="cb128-15"><a href="#cb128-15" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb128-16"><a href="#cb128-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb128-17"><a href="#cb128-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb128-18"><a href="#cb128-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb128-19"><a href="#cb128-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-86-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="max-spp-2-1" class="level3">
<h3 class="anchored" data-anchor-id="max-spp-2-1">Max spp 2</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2 =</span>  <span class="fu">as.character</span>(max_spp2), </span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2.o =</span>  <span class="fu">as.character</span>(max_spp2.o),</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> max_spp2, <span class="at">y =</span> max_spp2.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient(low = "white", high = "red") +</span></span>
<span id="cb129-17"><a href="#cb129-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient2(low = "white", mid = "yellow", high = "red", midpoint = 100) +</span></span>
<span id="cb129-18"><a href="#cb129-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb129-19"><a href="#cb129-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"red"</span>),</span>
<span id="cb129-20"><a href="#cb129-20" aria-hidden="true" tabindex="-1"></a>                       <span class="co"># values = c(0, 15, 75, 855)</span></span>
<span id="cb129-21"><a href="#cb129-21" aria-hidden="true" tabindex="-1"></a>                       ) <span class="sc">+</span></span>
<span id="cb129-22"><a href="#cb129-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-87-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Same as above, but without zero</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2 =</span>  <span class="fu">as.character</span>(max_spp2), </span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">max_spp2.o =</span>  <span class="fu">as.character</span>(max_spp2.o),</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(max_spp2, max_spp2.o) <span class="sc">|&gt;</span> </span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(max_spp2 <span class="sc">!=</span> <span class="st">"zero"</span> <span class="sc">&amp;</span> max_spp2.o <span class="sc">!=</span> <span class="st">"zero"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> max_spp2, <span class="at">y =</span> max_spp2.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb130-17"><a href="#cb130-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient(low = "white", high = "red") +</span></span>
<span id="cb130-18"><a href="#cb130-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_gradient2(low = "white", mid = "yellow", high = "red", midpoint = 100) +</span></span>
<span id="cb130-19"><a href="#cb130-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb130-20"><a href="#cb130-20" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"red"</span>),</span>
<span id="cb130-21"><a href="#cb130-21" aria-hidden="true" tabindex="-1"></a>                       <span class="co"># values = c(0, 15, 75, 855)</span></span>
<span id="cb130-22"><a href="#cb130-22" aria-hidden="true" tabindex="-1"></a>                       ) <span class="sc">+</span></span>
<span id="cb130-23"><a href="#cb130-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-88-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="f-1" class="level3">
<h3 class="anchored" data-anchor-id="f-1">f</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(f, f.o) <span class="sc">|&gt;</span> </span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">f =</span>  <span class="fu">as.character</span>(f), </span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">f.o =</span>  <span class="fu">as.character</span>(f.o),</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(f, f.o) <span class="sc">|&gt;</span> </span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> f, <span class="at">y =</span> f.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb131-16"><a href="#cb131-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-89-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="p-1" class="level3">
<h3 class="anchored" data-anchor-id="p-1">p</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(p, p.o) <span class="sc">|&gt;</span> </span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">mutate</span>(</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">p =</span>  <span class="fu">as.character</span>(p), </span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">p.o =</span>  <span class="fu">as.character</span>(p.o),</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">equal =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(p, p.o) <span class="sc">|&gt;</span> </span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(</span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">num =</span> <span class="fu">sum</span>(equal), </span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb132-10"><a href="#cb132-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb132-11"><a href="#cb132-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb132-12"><a href="#cb132-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> p.o, <span class="at">fill =</span> num) <span class="sc">+</span></span>
<span id="cb132-13"><a href="#cb132-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb132-14"><a href="#cb132-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb132-15"><a href="#cb132-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb132-16"><a href="#cb132-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-90-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="distributions" class="level1">
<h1>Distributions</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>keep <span class="ot">&lt;-</span> <span class="fu">append</span>(keep, </span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>               <span class="fu">c</span>(<span class="st">"test_set"</span>, <span class="st">'trees'</span>, <span class="st">'plots'</span>, <span class="st">'rf_imp_ancillary'</span>, <span class="st">'rf_imp_test'</span>, <span class="st">'rf_yai'</span>)) <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="fu">clean_mem</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells 2559233 136.7    4242408 226.6  4242408 226.6
Vcells 7603645  58.1   14786712 112.9 12254447  93.5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>test_set <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"C:/RxFire/Regen/Regeneration_2_16Sept24/data/test.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3396 Columns: 3
── Column specification ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Delimiter: ","
chr (2): StandID, TRAIN
dbl (1): INVYR

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">"c:/RxFire/Regen/Regeneration_2_16Sept24/data/homemade_fvs_db2.db"</span>)</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>trees <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con, <span class="st">"select * from fvs_treeinit_plot"</span>)</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con, <span class="st">"select * from fvs_plotinit_plot"</span>)</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(con)</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> trees <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">STAND_CN =</span> <span class="fu">str_sub</span>(STANDPLOT_CN, <span class="dv">1</span>,<span class="sc">-</span><span class="dv">3</span>)) <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a>plt_cn <span class="ot">&lt;-</span> <span class="fu">db_list</span>(t, STAND_CN)</span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-11"><a href="#cb137-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Getting the Species reference information</span></span>
<span id="cb137-12"><a href="#cb137-12" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">"C:</span><span class="sc">\\</span><span class="st">RxFire</span><span class="sc">\\</span><span class="st">Data</span><span class="sc">\\</span><span class="st">_FIADB_WA.db"</span>)</span>
<span id="cb137-13"><a href="#cb137-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-14"><a href="#cb137-14" aria-hidden="true" tabindex="-1"></a>fix <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con, <span class="fu">str_c</span>(<span class="st">"select PLT_CN, SUBP, TREE, STATUSCD from TREE where PLT_CN in ("</span>, </span>
<span id="cb137-15"><a href="#cb137-15" aria-hidden="true" tabindex="-1"></a>                             plt_cn, <span class="st">")"</span>)) <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb137-16"><a href="#cb137-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-17"><a href="#cb137-17" aria-hidden="true" tabindex="-1"></a>fix <span class="ot">&lt;-</span> fix <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">STANDPLOT_CN =</span> <span class="fu">str_c</span>(PLT_CN, <span class="st">"_"</span>, SUBP))</span>
<span id="cb137-18"><a href="#cb137-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-19"><a href="#cb137-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Pulling in the species reference table</span></span>
<span id="cb137-20"><a href="#cb137-20" aria-hidden="true" tabindex="-1"></a>plants_ref <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(</span>
<span id="cb137-21"><a href="#cb137-21" aria-hidden="true" tabindex="-1"></a>  con, <span class="st">"select SPECIES_SYMBOL, SPCD, COMMON_NAME, W_SPGRPCD from REF_SPECIES"</span></span>
<span id="cb137-22"><a href="#cb137-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb137-23"><a href="#cb137-23" aria-hidden="true" tabindex="-1"></a>plant_gr_ref <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(</span>
<span id="cb137-24"><a href="#cb137-24" aria-hidden="true" tabindex="-1"></a>  con, <span class="st">"select SPGRPCD, NAME from REF_SPECIES_GROUP"</span></span>
<span id="cb137-25"><a href="#cb137-25" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb137-26"><a href="#cb137-26" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(con)</span>
<span id="cb137-27"><a href="#cb137-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-28"><a href="#cb137-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaning Species reference up</span></span>
<span id="cb137-29"><a href="#cb137-29" aria-hidden="true" tabindex="-1"></a>plants_ref <span class="ot">&lt;-</span> plants_ref <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">SPGRPCD =</span> W_SPGRPCD, <span class="at">SYMBL =</span> SPECIES_SYMBOL)</span>
<span id="cb137-30"><a href="#cb137-30" aria-hidden="true" tabindex="-1"></a>plants_ref <span class="ot">&lt;-</span> <span class="fu">left_join</span>(plants_ref, plant_gr_ref, <span class="at">by =</span> <span class="fu">join_by</span>(SPGRPCD))</span>
<span id="cb137-31"><a href="#cb137-31" aria-hidden="true" tabindex="-1"></a>plants <span class="ot">&lt;-</span> plants_ref <span class="sc">|&gt;</span> <span class="fu">select</span>(SYMBL, SPCD)</span>
<span id="cb137-32"><a href="#cb137-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-33"><a href="#cb137-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-34"><a href="#cb137-34" aria-hidden="true" tabindex="-1"></a>test_trees <span class="ot">&lt;-</span> <span class="fu">left_join</span>(test_set, trees, <span class="fu">join_by</span>(StandID <span class="sc">==</span> STANDPLOT_CN))</span>
<span id="cb137-35"><a href="#cb137-35" aria-hidden="true" tabindex="-1"></a>test_plots <span class="ot">&lt;-</span> <span class="fu">left_join</span>(test_set, plots, <span class="fu">join_by</span>(StandID <span class="sc">==</span> STANDPLOT_CN))</span>
<span id="cb137-36"><a href="#cb137-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-37"><a href="#cb137-37" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">"c:/RxFire/Data/_FIADB_WA.db"</span>)</span>
<span id="cb137-38"><a href="#cb137-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-39"><a href="#cb137-39" aria-hidden="true" tabindex="-1"></a><span class="co"># aspect &lt;- dbGetQuery(con, "select aspect, slope, plt_cn, subp from SUBPLOT")</span></span>
<span id="cb137-40"><a href="#cb137-40" aria-hidden="true" tabindex="-1"></a>ecosubcd <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con, <span class="st">"select CN, ecosubcd from PLOT"</span>)</span>
<span id="cb137-41"><a href="#cb137-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-42"><a href="#cb137-42" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(con)</span>
<span id="cb137-43"><a href="#cb137-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-44"><a href="#cb137-44" aria-hidden="true" tabindex="-1"></a>test_plots <span class="ot">&lt;-</span> <span class="fu">left_join</span>(test_plots, ecosubcd, <span class="fu">join_by</span>(STAND_CN <span class="sc">==</span> CN)) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(ECOSUBCD)</span>
<span id="cb137-45"><a href="#cb137-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-46"><a href="#cb137-46" aria-hidden="true" tabindex="-1"></a>test_plots <span class="ot">&lt;-</span> test_plots <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb137-47"><a href="#cb137-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">EcoRegion =</span> <span class="fu">str_remove_all</span>(</span>
<span id="cb137-48"><a href="#cb137-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_sub</span>(ECOSUBCD, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>), </span>
<span id="cb137-49"><a href="#cb137-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">" "</span>)) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>ECOSUBCD) <span class="sc">|&gt;</span> </span>
<span id="cb137-50"><a href="#cb137-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(EcoRegion)</span>
<span id="cb137-51"><a href="#cb137-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-52"><a href="#cb137-52" aria-hidden="true" tabindex="-1"></a><span class="co"># M242D", "N.Cascades",</span></span>
<span id="cb137-53"><a href="#cb137-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-54"><a href="#cb137-54" aria-hidden="true" tabindex="-1"></a>test_plots <span class="ot">&lt;-</span> test_plots <span class="sc">|&gt;</span> <span class="fu">filter</span>(EcoRegion <span class="sc">==</span> <span class="st">"M242D"</span>)</span>
<span id="cb137-55"><a href="#cb137-55" aria-hidden="true" tabindex="-1"></a>CNs <span class="ot">&lt;-</span> test_plots <span class="sc">|&gt;</span> <span class="fu">select</span>(StandID)</span>
<span id="cb137-56"><a href="#cb137-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-57"><a href="#cb137-57" aria-hidden="true" tabindex="-1"></a>test_trees <span class="ot">&lt;-</span> <span class="fu">left_join</span>(CNs, test_trees, <span class="fu">join_by</span>(StandID))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="seedling-densities" class="level3">
<h3 class="anchored" data-anchor-id="seedling-densities">Seedling Densities</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Separating the seedlings from the rest</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>seedling_densities <span class="ot">&lt;-</span> test_trees <span class="sc">|&gt;</span>  <span class="fu">filter</span>(DBH <span class="sc">==</span> <span class="fl">0.1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">STANDPLOT_CN =</span> StandID) <span class="sc">|&gt;</span> </span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STANDPLOT_CN, SPECIES) <span class="sc">|&gt;</span> </span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add up the TPA per species on each subplot. </span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">TPA =</span> <span class="fu">sum</span>(TREE_COUNT), </span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare to join</span></span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a>seedling_densities <span class="ot">&lt;-</span> seedling_densities <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">SPECIES =</span> <span class="fu">as.numeric</span>(SPECIES))</span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Join seedlings and species reference</span></span>
<span id="cb138-15"><a href="#cb138-15" aria-hidden="true" tabindex="-1"></a>seedling_densities <span class="ot">&lt;-</span> <span class="fu">left_join</span>(seedling_densities, plants, <span class="fu">join_by</span>(<span class="st">"SPECIES"</span> <span class="sc">==</span> <span class="st">"SPCD"</span>))</span>
<span id="cb138-16"><a href="#cb138-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Removing an extra col. </span></span>
<span id="cb138-17"><a href="#cb138-17" aria-hidden="true" tabindex="-1"></a>seedling_densities <span class="ot">&lt;-</span> seedling_densities <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(SPECIES))</span>
<span id="cb138-18"><a href="#cb138-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-19"><a href="#cb138-19" aria-hidden="true" tabindex="-1"></a>test_trees <span class="ot">&lt;-</span> test_trees <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">STANDPLOT_CN =</span> StandID)</span>
<span id="cb138-20"><a href="#cb138-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-21"><a href="#cb138-21" aria-hidden="true" tabindex="-1"></a>tcns <span class="ot">&lt;-</span> test_trees <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN, TREE)</span>
<span id="cb138-22"><a href="#cb138-22" aria-hidden="true" tabindex="-1"></a>fix <span class="ot">&lt;-</span> fix <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN, TREE, STATUSCD) <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb138-23"><a href="#cb138-23" aria-hidden="true" tabindex="-1"></a>fix<span class="sc">$</span>TREE <span class="ot">&lt;-</span> <span class="fu">as.character</span>(fix<span class="sc">$</span>TREE)</span>
<span id="cb138-24"><a href="#cb138-24" aria-hidden="true" tabindex="-1"></a>fix <span class="ot">&lt;-</span> <span class="fu">left_join</span>(tcns, fix, <span class="fu">join_by</span>(STANDPLOT_CN, TREE))</span>
<span id="cb138-25"><a href="#cb138-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-26"><a href="#cb138-26" aria-hidden="true" tabindex="-1"></a>ltrees <span class="ot">&lt;-</span> test_trees <span class="sc">|&gt;</span> <span class="fu">filter</span>(DBH <span class="sc">&gt;</span> <span class="fl">0.1</span> <span class="sc">|</span> <span class="fu">is.na</span>(DBH))</span>
<span id="cb138-27"><a href="#cb138-27" aria-hidden="true" tabindex="-1"></a>seeds <span class="ot">&lt;-</span> test_trees <span class="sc">|&gt;</span> <span class="fu">filter</span>(DBH <span class="sc">==</span> <span class="fl">0.1</span>)</span>
<span id="cb138-28"><a href="#cb138-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-29"><a href="#cb138-29" aria-hidden="true" tabindex="-1"></a>fix <span class="ot">&lt;-</span> <span class="fu">left_join</span>(ltrees, fix, <span class="fu">join_by</span>(STANDPLOT_CN, TREE))</span>
<span id="cb138-30"><a href="#cb138-30" aria-hidden="true" tabindex="-1"></a>fix <span class="ot">&lt;-</span> fix <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb138-31"><a href="#cb138-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">HISTORY =</span> <span class="fu">ifelse</span>(STATUSCD <span class="sc">!=</span> <span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">1</span>)</span>
<span id="cb138-32"><a href="#cb138-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb138-33"><a href="#cb138-33" aria-hidden="true" tabindex="-1"></a><span class="co"># fix |&gt; filter(HISTORY == 8)</span></span>
<span id="cb138-34"><a href="#cb138-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-35"><a href="#cb138-35" aria-hidden="true" tabindex="-1"></a>trees_dead <span class="ot">&lt;-</span> fix <span class="sc">|&gt;</span> <span class="fu">filter</span>(HISTORY <span class="sc">==</span> <span class="dv">8</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>STATUSCD)</span>
<span id="cb138-36"><a href="#cb138-36" aria-hidden="true" tabindex="-1"></a>trees_live <span class="ot">&lt;-</span> fix <span class="sc">|&gt;</span> <span class="fu">filter</span>(HISTORY <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>STATUSCD)</span>
<span id="cb138-37"><a href="#cb138-37" aria-hidden="true" tabindex="-1"></a>trees_live <span class="ot">&lt;-</span> <span class="fu">add_row</span>(trees_live, seeds)</span>
<span id="cb138-38"><a href="#cb138-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-39"><a href="#cb138-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-40"><a href="#cb138-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-41"><a href="#cb138-41" aria-hidden="true" tabindex="-1"></a>trees_live<span class="sc">$</span>STANDPLOT_CN <span class="sc">|&gt;</span> <span class="fu">n_distinct</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1321</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>seeds<span class="sc">$</span>STANDPLOT_CN <span class="sc">|&gt;</span> <span class="fu">n_distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 769</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Widening the data</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>seedling_wide <span class="ot">&lt;-</span> seedling_densities <span class="sc">|&gt;</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> SYMBL, </span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">values_from =</span> TPA,</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">values_fill =</span> <span class="dv">0</span>,</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">names_glue =</span> <span class="st">"{SYMBL}_{'TD'}"</span>)</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Un-grouping to avoid future messages</span></span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a>seedling_wide <span class="ot">&lt;-</span> seedling_wide <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()</span>
<span id="cb142-9"><a href="#cb142-9" aria-hidden="true" tabindex="-1"></a>seedling_densities <span class="ot">&lt;-</span> seedling_densities <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()</span>
<span id="cb142-10"><a href="#cb142-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-11"><a href="#cb142-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensuring there are no NAs introduced while widening</span></span>
<span id="cb142-12"><a href="#cb142-12" aria-hidden="true" tabindex="-1"></a>seedling_wide <span class="ot">&lt;-</span> <span class="fu">nas_to_zeroes</span>(seedling_wide)</span>
<span id="cb142-13"><a href="#cb142-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-14"><a href="#cb142-14" aria-hidden="true" tabindex="-1"></a>seedling_wide <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 8%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">STANDPLOT_CN</th>
<th style="text-align: right;">ABAM_TD</th>
<th style="text-align: right;">THPL_TD</th>
<th style="text-align: right;">TSHE_TD</th>
<th style="text-align: right;">PIAL_TD</th>
<th style="text-align: right;">ABLA_TD</th>
<th style="text-align: right;">PIEN_TD</th>
<th style="text-align: right;">PIMO3_TD</th>
<th style="text-align: right;">ABGR_TD</th>
<th style="text-align: right;">TSME_TD</th>
<th style="text-align: right;">PSME_TD</th>
<th style="text-align: right;">PIPO_TD</th>
<th style="text-align: right;">PICO_TD</th>
<th style="text-align: right;">LAOC_TD</th>
<th style="text-align: right;">PRVI_TD</th>
<th style="text-align: right;">TABR2_TD</th>
<th style="text-align: right;">ACMA3_TD</th>
<th style="text-align: right;">PREM_TD</th>
<th style="text-align: right;">ABPR_TD</th>
<th style="text-align: right;">CHNO_TD</th>
<th style="text-align: right;">LALY_TD</th>
<th style="text-align: right;">POTR5_TD</th>
<th style="text-align: right;">POBAT_TD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">174763101020004_1</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">299.8611</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">174763101020004_3</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">224.8958</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">174763139020004_3</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">224.89585</td>
<td style="text-align: right;">224.8958</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">174763336020004_3</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">974.5487</td>
<td style="text-align: right;">74.96528</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">174763336020004_4</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">299.86113</td>
<td style="text-align: right;">374.8264</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">174763373020004_1</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">1124.4792</td>
<td style="text-align: right;">0.00000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="comparison" class="level3">
<h3 class="anchored" data-anchor-id="comparison">Comparison</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>rf_tds <span class="ot">&lt;-</span> rf_imp_test <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">contains</span>(<span class="st">"TD"</span>)))</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>raw_tds <span class="ot">&lt;-</span> seedling_wide</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="co"># save(raw_tds, file = "raw_TDs_forHist.Rdata")</span></span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a><span class="co"># save(rf_tds, file = "rf_TDs_forHist.Rdata")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(<span class="fu">log</span>(rf_tds<span class="sc">$</span>ABAM_TD <span class="sc">+</span> <span class="dv">1</span>), <span class="fu">log</span>(raw_tds<span class="sc">$</span>ABAM_TD <span class="sc">+</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  log(rf_tds$ABAM_TD + 1) and log(raw_tds$ABAM_TD + 1)
t = -4.4437, df = 1277.1, p-value = 0.00000961
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -0.8430264 -0.3266357
sample estimates:
mean of x mean of y 
 2.234129  2.818960 </code></pre>
</div>
</div>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">log</span>(rf_tds<span class="sc">$</span>ABAM_TD <span class="sc">+</span> <span class="dv">1</span>))</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">log</span>(raw_tds<span class="sc">$</span>ABAM_TD <span class="sc">+</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-98-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-98-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> rf_tds <span class="sc">|&gt;</span> <span class="fu">select</span>(ABAM_TD) <span class="sc">|&gt;</span> </span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">source =</span> <span class="st">"RF_Imputed"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> raw_tds <span class="sc">|&gt;</span> <span class="fu">select</span>(STANDPLOT_CN, ABAM_TD) <span class="sc">|&gt;</span> </span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="st">"test_set"</span>)</span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> rf_tds <span class="sc">|&gt;</span> <span class="fu">select</span>(ABAM_TD.o) <span class="sc">|&gt;</span></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">ABAM_TD =</span> ABAM_TD.o) <span class="sc">|&gt;</span> </span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="st">"RF_Observed"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"STANDPLOT_CN"</span>)</span>
<span id="cb147-13"><a href="#cb147-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-14"><a href="#cb147-14" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">add_row</span>(t, t2)</span>
<span id="cb147-15"><a href="#cb147-15" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">add_row</span>(t, t3) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>t <span class="sc">|&gt;</span> <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"RF_Imputed"</span> <span class="sc">|</span> source <span class="sc">==</span> <span class="st">"RF_Observed"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">log</span>(ABAM_TD <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> source)) <span class="sc">+</span> </span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(</span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">aes</span>(<span class="at">y =</span> ..density..), </span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">position =</span> <span class="st">'identity'</span>, </span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">bins =</span> <span class="dv">30</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The dot-dot notation (`..density..`) was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(density)` instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>t <span class="sc">|&gt;</span> <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"RF_Imputed"</span> <span class="sc">|</span> source <span class="sc">==</span> <span class="st">"test_set"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">log</span>(ABAM_TD <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> source)) <span class="sc">+</span> </span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">aes</span>(<span class="at">y =</span> ..density..), </span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">position =</span> <span class="st">'identity'</span>, </span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">bins =</span> <span class="dv">30</span>)</span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a>t <span class="sc">|&gt;</span> <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"RF_Observed"</span> <span class="sc">|</span> source <span class="sc">==</span> <span class="st">"test_set"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">log</span>(ABAM_TD <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> source)) <span class="sc">+</span> </span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(</span>
<span id="cb150-11"><a href="#cb150-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb150-12"><a href="#cb150-12" aria-hidden="true" tabindex="-1"></a>     <span class="fu">aes</span>(<span class="at">y =</span> ..density..), </span>
<span id="cb150-13"><a href="#cb150-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">position =</span> <span class="st">'identity'</span>, </span>
<span id="cb150-14"><a href="#cb150-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">bins =</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-100-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-100-2.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="5_TD_Imp_files/figure-html/unnamed-chunk-100-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</section>
</section>
<section id="end" class="level1">
<h1>End</h1>
</section>
<section id="notes" class="level1">
<h1>Notes</h1>
<ul>
<li>sprintf for loops and hyper-parameter tests.</li>
<li>more trees for rare or common,</li>
<li>pLAY WITH N-TREE AND SEE WHERE THERE ARE DIMINISHING RETURNS.</li>
<li>Correcting aspect may have not been enough, it could be better to do the fraction of available light from slope and aspect.</li>
<li>Find notes about adding forest type</li>
<li>ensure that I am using the latest filtering</li>
<li>Check the heat maps with species groups and forest type.</li>
<li>Try and get the TDs to work alone.</li>
<li>Try running this as a prediction instead of an imputation.</li>
</ul>
</section>
<section id="scratch" class="level1">
<h1>scratch</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_imp_ancillary |&gt; group_by(max_spp1.o) |&gt; </span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(n = n())</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t &lt;- rf_imp_test |&gt; group_by(max_spp1) |&gt; </span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(n = n())</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="co"># t</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a><span class="co"># sum(t$n)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rf_imp_test$ABLA_TD.o |&gt; n_distinct()</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="co"># |&gt; group_by(max_spp1) |&gt; </span></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(n = n())</span></span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="co"># t</span></span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a><span class="co"># sum(t$n)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/KingBlkMouth\.github\.io\/Regen_Regression\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>